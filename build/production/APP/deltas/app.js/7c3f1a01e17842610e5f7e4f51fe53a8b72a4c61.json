["function _880f3f4f7ac18de2fb244c665d2592b5dcdf5d5f",50,527,"form.phone.rutas){APP.form.phone.ruta",564,2613,"ux.timepicker){Ext.ux.timepicke",3164,291804,"util.Geolocation",257787,34,"[\"Ext.util.GeoLocation\"],config:{autoUpdate:true,frequency:10000,latitude:null,longitude:null,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,speed:null,timestamp:null,allowHighAccuracy:false,timeout:Infinity,maximumAge:0,provider:undefined},updateMaximumAge:function(){if(this.watchOperation){this.updateWatchOperation()}},updateTimeout:function(){if(this.watchOperation){this.updateWatchOperation()}},updateAllowHighAccuracy:function(){if(this.watchOperation){this.updateWatchOperation()}},applyProvide",331556,33,"Geolocation){if(!a){if(navigator&&navigator.geolocation){a=navigator.geolocation}else{if(window.google){a=google.gears.factory.create(\"beta.geolocation\")}}}}else{this.fireEvent(\"locationerror\",this,false,false,true,\"This device does not support Geolocation.\")}return a},updateAutoUpdate:function(a,b){var c=this,f=c.getProvider();if(b&&f){clearInterval(c.watchOperationId);c.watchOperationId=null}if(a){if(!f){c.fireEvent(\"locationerror\",c,false,false,true,null);return}try{c.updateWatchOperation()}catch(d){c.fireEvent(\"locationerror\",c,false,false,true,d.message)}}},updateWatchOperation:function(){var a=this,b=a.getProvider();if(a.watchOperationId){clearInterval(a.watchOperationId)}function c(){b.getCurrentPosition(Ext.bind(a.fireUpdate,a),Ext.bind(a.fireError,a),a.parseOptions())}c();a.watchOperationId=setInterval(c,this.getFrequency())},updateLocation:function(h,a,c){var b=this,g=b.getProvider();var f=function(j,e){if(e){b.fireError(e)}else{b.fireEvent(\"locationerror\",b,false,false,true,j)}if(h){h.call(a||b,null,b)}};if(!g){f(null);return}try{g.getCurrentPosition(function(e){b.fireUpdate(e);if(h){h.call(a||b,b,b)}},function(e){f(null,e)},c||b.parseOptions())}catch(d){f(d.message)}},fireUpdate:function(a){var b=this,c=a.coords;this.position=a;b.setConfig({timestamp:a.timestamp,latitude:c.latitude,longitude:c.longitude,accuracy:c.accuracy,altitude:c.altitude,altitudeAccuracy:c.altitudeAccuracy,heading:c.heading,speed:c.speed});b.fireEvent(\"locationupdate\",b)},fireError:function(a){var b=a.code;this.fireEvent(\"locationerror\",this,b==a.TIMEOUT,b==a.PERMISSION_DENIED,b==a.POSITION_UNAVAILABLE,a.message==undefined?null:a.message)},parseOptions:function(){var b=this.getTimeout(),a={maximumAge:this.getMaximumAge(),enableHighAccuracy:this.getAllowHighAccuracy()};if(b!==Infinity){a.timeout=b",462286,35,"setAutoUpdate(false)}},0,0,0,0,0,0,[Ext.util,\"Geolocation\",Ext.util,\"GeoLoc",388366,33,"Map\",Ext.Container,{isMap",301856,41,"map\",useCurrentLocation:false,map:null,geo:null,mapOptions:{},mapListeners:null},constructor",323454,36,231984,34,"if(!(window.google||{}).maps){this.setHtml(\"Google Maps API is required\"",463840,79,"itMap();this.on({painted:\"doResize\",scope:this});this.innerElement.on(\"touchstart\",\"onTouchStart\",this)},initMap:function(){var f=this.getMap();if(!f){var e=(window.google||{}).maps;if(!e){return null}var b=this.mapContainer,a=this.getMapOptions(),d=e.event,c=this;if(b.dom.firstChild){Ext.fly(b.dom.firstChild).destroy()}if(Ext.os.is.iPad){Ext.merge({navigationControlOptions:{style:e.NavigationControlStyle.ZOOM_PAN}},a)}a.mapTypeId=a.mapTypeId||e.MapTypeId.ROADMAP;a.center=a.center||new e.LatLng(37.381592,-122.135672);if(a.center&&a.center.latitude&&!Ext.isFunction(a.center.lat)){a.center=new e.LatLng(a.center.latitude,a.center.longitude)}a.zoom=a.zoom||12;f=new e.Map(b.dom,a);this.setMap(f);d.addListener(f,\"zoom_changed\",Ext.bind(c.onZoomChange,c));d.addListener(f,\"maptypeid_changed\",Ext.bind(c.onTypeChange,c));d.addListener(f,\"center_changed\",Ext.bind(c.onCenterChange,c));d.addListenerOnce(f,\"tilesloaded\",Ext.bind(c.onTilesLoaded,c));this.addMapListeners()}return this.getMap()},renderMap:function(){this.initMap(",516013,49,310006,55,277872,33,",children:[{reference:\"mapContainer\",className:Ext.baseCSSPrefix+\"map-container\"}]}]}},onTouchStart:function(a){a.makeUnpreventable()},applyMapOptions:function(a){return Ext.merge({},this.options,a)},updateMapOptions:function(c){var b=(window.google||{}).maps,a=this.getMap();if(b&&a){a.setOptions(c)}},doMapCenter:function(){this.setMapCenter(this.getMapOptions().center)},getMapOptions:function(){return Ext.merge({},this.options||this.getInitialConfig(\"mapOptions\"))},updateUseCurrentLocation:function(a){this.setGeo(a);if(!a){this.setMapCenter()}},applyGeo",564367,38,"util.Geolocation,this.getGeo())},updateGeo:function(b,a){var c={locationupdate:\"onGeoUpdate\",locationerror:\"onGeoError\",scope:this};if(a){a.un(c)}if(b){b.on(c);b.updateLocation()}},doResize:function(){var b=(window.google||{}).maps,a=this.getMap();if(b&&a){b.event.trigger(a,\"resize\")}},onTilesLoaded:function(){this.fireEvent(\"maprender\",this,this.getMap())},addMapListeners:function(){var e=(window.google||{}).maps,a=this.getMap(),k=this.getMapListeners();if(e){var b=e.event,h=this,d,l,j,g,f;if(Ext.isSimpleObject(k)){for(var c in k){d=k[c];if(Ext.isSimpleObject(d)){l=d.scope;j=d.fn}else{if(Ext.isFunction(d)){l=null;j=d}}if(j){g=function(){this.fn.apply(this.scope,[h]);if(this.handle){b.removeListener(this.handle);delete this.handle;delete this.fn;delete this.scope}};f=b.addListener(a,c,Ext.bind(g,g));g.fn=j;g.scope=l;if(d.single===true){g.handle=f}}}}}},onGeoUpdate:function(a){if(a){this.setMapCenter(new google.maps.LatLng(a.getLatitude(),a.getLongitude()))}},onGeoError:Ext.emptyFn,setMapCenter",562564,32,"ap(),a=b.getMapOptions(),c=(window.google||{}).maps;if(c){if(!e){if(d&&d.getCenter){e=d.getCenter()}else{if(a.hasOwnProperty(\"center\")){e=a.center}else{e=new c.LatLng(37.381592,-122.135672)}}}if(e&&!(e instanceof c.LatLng)&&\"longitude\" in e){e=new c.LatLng(e.latitude,e.longitude)}if(!d){a.center=a.center||e;b.renderMap();d=b.getMap()}if(d&&e instanceof c.LatLng){d.panTo(e)}else{this.options=Ext.apply(this.getMapOptions(),{center:e})}}},onZoom",195681,32,"MapOptions(),c=this.getMap(),b;b=(c&&c.getZoom)?c.getZoom():a.zoom||10;this.options=Ext.apply(a,{zoom:b});this.fireEvent(\"zoomchange\",this,c,b)},onType",614664,32,"MapOptions(),c=this.getMap(),a;a=(c&&c.getMapTypeId)?c.getMapTypeId():b.mapTypeId;this.options=Ext.apply(b,{mapTypeId:a});this.fireEvent(\"typechange\",this,c,a)},onCenter",614664,32,"MapOptions(),c=this.getMap(),a;a=(c&&c.getCenter)?c.getCenter():b.center;this.options=Ext.apply(b,{center:a});this.fireEvent(\"centerchange\",this,c,",299965,43,"Geo());var a=this.getMap();if(a&&(window.google||{}).maps){google.maps.event.clearInstanceListeners(a)}",466541,32,"call(this)}},1,[\"map\"],[\"component\",\"container\",\"map",322032,34,"map:true},[\"widget.map\"],0,[Ext,\"Map",331440,39,294968,5180,"Img\",Ext.Component,{config:{src",377155,33,"img\",imageCls:Ext.baseCSSPrefix+\"img-image\",backgroundCls:Ext.baseCSSPrefix+\"img-background\",mode:\"background\"",470283,34,"a=this;a.onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)",311152,83,"relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hid",340927,37,"hide",500658,34,"Src=this.hiddenSrc||this.getSrc();this.setSrc(null)},show",340928,36,"show.apply(this,arguments);if(this.hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode",268414,32,"mageCls(),b=c.getBackgroundCls();if(d===\"background\"){if(c.imageElement){c.imageElement.destroy();delete c.imageElement;c.updateSrc(c.getSrc())}c.replaceCls(a,b)}else{c.imageElement=c.element.createChild({tag:\"img\"});c.replaceCls(b,a)}},updateImageCls:function(b,a){this.replaceCls(a,b)},updateBackgroundCls:function(b,a){this.replaceCls(a,b)},",308220,34,"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b);",316252,56,"},doSetHeight:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);",316123,57,"},destroy:function(){this.detachListeners();Ext.destroy(this.imageObject,this.imageElement);delete this.imageObject;delete this.imageElement",341968,50,"image\",\"img\"],[\"component\",\"image\",\"img\"],{component:true,image:true,img:true},[\"widget.image\",\"widget.img\"],0,[Ext,\"Img",300120,254728,"picker.Date\",Ext.picker.Picker,{alternateClassName:\"Ext.DatePicker\",config:{yearFrom:1980,yearTo:new Date().getFullYear(),monthText:\"Month\",dayText:\"Day\",yearText:\"Year\",slotOrder:[\"month\",\"day\",\"year\"],doneButton",541323,42,545309,48,"}],initialize:function(){Ext.picker.Pick",570287,44,"scope:this,delegate:\"> slot\",slotpick:this.onSlotPick});this.on({scope:this,show:this.onSlotPick})},setValue:function(b,a){if(Ext.isDate(b)){b={day:b.getDate(),month:b.getMonth()+1,year:b.getFullYear()}}Ext.picker.Picker.prototype.setValue.apply(this,[b,a]);this.onSlotPick()},getValue:function(k){var h={},e=this.getItems().items,d=e.length,a,g,c,f,j,b;for(b=0;b<d;b++){j=e[b];if(j instanceof Ext.picker.Slot){h[j.getName()]=j.getValue(k)}}if(h.year===null&&h.month===null&&h.day===null){return null}f=Ext.isNumber(h.year)?h.year:1;c=Ext.isNumber(h.month)?h.month:1;g=Ext.isNumber(h.day)?h.day:1;if(c&&f&&c&&g){a=this.getDaysInMonth(c,f)}g=(a)?Math.min(g,a):g;return new Date(f,c-1,g)},updateYearFrom:function(){if(this.initialized){this.createSlots()}},updateYearTo:function(){if(this.initialized){this.createSlots()}},updateMonthText:function(a,b){var f=this.getInnerItems,e=f.length,d,c;if(this.initialized){for(c=0;c<e;c++){d=f[c];if((typeof d.title==\"string\"&&d.title==b)||(d.title.html==b)){d.setTitle(a)}}}},updateDayText:function(a,c){var f=this.getInnerItems,e=f.length,d,b;if(this.initialized){for(b=0;b<e;b++){d=f[b];if((typeof d.title==\"string\"&&d.title==c)||(d.title.html==c)){d.setTitle(a)}}}},updateYearText:function(e){var d=this.getInnerItems,c=d.length,b,a;if(this.initialized){for(a=0;a<c;a++){b=d[a];if(b.title==this.yearText){b.setTitle(e)}}}},constructor",323454,36,231984,34,"this.createSlots()},createSlots:function(){var k=this,c=k.getSlotOrder(),m=k.getYearFrom(),e=k.getYearTo(),f=[],l=[],b=[],h=m>e,j,d,a;while(m){f.push({text:m,value:m});if(m===e){break}if(h){m--}else{m++}}a=k.getDaysInMonth(1,new Date().getFullYear());for(d=0;d<a;d++){l.push({text:d+1,value:d+1})}for(d=0,j=Ext.Date.monthNames.length;d<j;d++){b.push({text:Ext.Date.monthNames[d],value:d+1})}var g=[];c.forEach(function(n){g.push(k.createSlot(n,l,b,f))});k.setSlots(g)},createSlot:function(b,d,a,c){switch(b){case\"year\":return{name:\"year\",align:\"center\",data:c,title:this.getYearText(),flex:3};case\"month\":return{name:b,align:\"right\",data:a,title:this.getMonthText(),flex:4};case\"day\":return{name:\"day\",align:\"center\",data:d,title:this.getDayText(),flex:2}}},onSlotPick:function(){var g=this.getValue(true),f=this.getDaySlot(),e=g.getFullYear(),d=g.getMonth(),j=[],a,b;if(!g||!Ext.isDate(g)||!f){return}Ext.picker.Picker.prototype.onSlotPick",322910,33,"DaysInMonth(d+1,e);for(b=0;b<a;b++){j.push({text:b+1,value:b+1})}if(f.getStore().getCount()==j.length){return}f.getStore().setData(j);var h=f.getStore(),m=f.getViewItems(),l=f.getValueField(),c,k;c=h.find(l,g.getDate());if(c==-1){return}k=Ext.get(m[c]);f.selectedIndex=c;f.scrollToItem(k);f.setValue(f.getValue(true))},getDaySlot:function(){var c=this.getInnerItems(),b=c.length,a,d;if(this.daySlot){return this.daySlot}for(a=0;a<b;a++){d=c[a];if(d.isSlot&&d.getName()==\"day\"){this.daySlot=d;return d}}return null},getDaysInMonth:function(c,b){var a",142039,46,"c==2&&this.isLeapYear(b)?29:a[c-1]},isLeapYear:function(a){return !!((a&3)===0&&(a%100||(a%400===0&&a)",547183,49,"c=this.getValue(true),b=c;if(Ext.isDate(c)){b=c.toDateString()}if(Ext.isDate(a)){a=a.toDateString()}",547254,38,"c",547293,52,"},1,[\"datepicker",724416,32,"epick",548451,61,"datepick",548504,52,"datepicker\"],0,[Ext.picker,\"Date\",Ext,\"DatePick",556911,36,"DatePicker\",Ext.field.Selec",557325,32,"DatePicker\",config:{ui:\"select\",picker:true,clearIcon:false,destroyPickerOnHide:false,dateFormat:null,component:{useMask:true}}",549072,63,"Selec",311199,36,549174,117,549990,47,"a){if(!Ext.isDate(a)&&!Ext.isObject(a)){return null}if(Ext.isObject(a)){return new Date(a.year,a.month-1,a.day",550251,33,"d,b){var c=this,a=c._picker;if(a&&a.isPicker){a.setValue(d)}if(d!==null){c.getComponent().setValue(Ext.Date.format(d,c.getDateFormat()",147320,36,")}else{c.getComponent().setValue(\"\")}if(d!==b){c.fireEvent(\"change\",c,d,b)}},updateDateFormat:function(c,a){var b=this.getValue();if(c!=a&&Ext.isDate(b)){this.getComponent().setValue(Ext.Date.format(b,c",147320,36,")}},getValue:function(){if(this._picker&&this._picker instanceof Ext.picker.Date){return this._picker.getValue()}return this._value},getFormatted",556314,32,"Value();return(Ext.isDate(a))?Ext.Date.format(a,b||this.getDateFormat()",147320,36,":a},applyPicker:function(b,a){if(a&&a.isPicker){b=a.setConfig(b)}return b},getPicker:function(){var a=this._picker,b=this.getValue();if(a&&!a.isPicker){a=Ext.factory(a,Ext.picker.Date);if(b!=null){a.setValue(b)}}a.on({scope:this,change:\"onPickerChange\",hide:\"onPickerHide\"});this._picker=a;return a},onMaskTap",306828,48,"this.onFocus();return false},onPickerChange:function(b,d){var c=this,a=c.getValue();c.setValue(d);c.fireEvent(\"select\",c,d);c.onChange(c,d,a)},onChange:Ext.emptyFn,onPickerHide:function(){var b=this,a=b.getPicker();if(b.getDestroyPickerOnHide()&&a){a.destroy();b._picker=b.getInitialConfig().picker||true}",311321,52,"},onFocus",313316,39,554323,93,"if(",560119,33,"this.isFocused=true;this.getPicker().show(",261120,33,"_picker;if(a&&a.isPicker){a.destroy()}Ext.field.Sele",209951,45,"0,[\"datepickerfield\"],[\"component\",\"datepickerfield",554662,53,"datepickerfield",554709,59,"datepickerfield\"],0,[Ext.field,\"DatePicker\",Ext.form,\"DatePick",556911,36,"Email",557310,47,554906,78016,662048,71,"title",662124,206,735312,99,"title:\"Senca Con Title",735428,51,",11,0),end:new Date(2014,6,27,12,0)},{title:\"Senca Con Title 2",735428,51,",12,0),end:new Date(2014,6,27,12,0",735503,75,632922,21543,"Ext.ux.timepicker.Time\",Ext.picker.Picker,{config:{increment:5,minHours:0,maxHours:23,hoursTitle:\"Hours\",minutesTitle:\"Minutes\",slots:[]},setValue:function(d,c",556222,32,"increment,b;if(Ext.isDate(d)){d={hours:d.getHours(),minutes:d.getMinutes()}}b=d.minutes%a;if(b>0){d.minutes=Math.round(d.minutes/a)*a}Ext.picker.Picker.prototype.setValue.apply(this,[d,c])",234301,32,"picker.Picker.prototype.getValue.apply(this,arguments),a=new Date();b=",649846,38,"a.getDate(),b.hours,b.minutes);return b},applySlots:function(c){var d=this,a=d.createHoursSlot(),b=d.createMinutesSlot();return[a,b]},createHoursSlot:function(){var c=this,j=c.getInitialConfig(),e=j.hoursTitle,d=j.minHours,b=j.maxHours,f=[],g;for(var a=d;a<=b;a++){var h=(a<10)?(\"0\"+a):a;f.push({text:h,value:a})}g={name:\"hours\",align:\"center\",title:e,data:f,flex:1};return g},createMinutesSlot:function(){var d=this,e=d.getInitialConfig(),g=e.minutesTitle,a=e.increment,c=[],h;for(var b=0;b<60;b+=a){var f;f=(b<10)?(\"0\"+b):b;c.push({text:f,value:b})}h={name:\"minutes\",align:\"center\",title:g,data:c,flex:1};return h}},0,[\"time",548421,58,",\"timepick",712560,38,"nel:true,picker:true,sheet:true,timepicker:true},[\"widget.timepicker\"],0,[Ext.ux.timepicker,\"Time\"],0));(Ext.cmd.derive(\"Ext.ux.timepicker.TimePicker\",Ext.field.DatePicker,{config:{dateFormat:\"H:i\",picker:true},applyValue:function(d){if(!Ext.isDate(d)&&!Ext.isObject(d)){d=null}if(Ext.isObject(d)){var b=new Date(),c=d.year||b.getFullYear(),e=d.month||b.getMonth(),a=d.day||b.getDate();d=new Date(c,e,a,d.hours,d.minutes)}return d},applyPicker:function(a){a=Ext.factory(a,\"Ext.ux.timepicker.Time\");a.setHidden(true);Ext.Viewport.add(a);return a},updatePick",259106,32,"change:\"onPickerChange\",hide:\"onPickerHide\"});a.setValue(this.getValue());return a}},0,[\"timepickerfield\"],[\"component\",\"datepickerfield",554662,35,",\"timepickerfield\"],{component:true,datepickerfield",554709,48,",timepickerfield:true},[\"widget.timepickerfield\"],0,[Ext.ux.timepicker,\"TimePicker",655338,33,654474,229,"d.params.T",654621,44,654928,52,"d.params",654981,55,"d.params",655037,61,"d.params.Elementos=50;if(b.getProxy().getUrl().search(\"http\")==-1){b",667169,59,"b.getProxy().getUrl())}",654703,185,655113,5468,"Tarje",660585,1467,662330,237,"margin:\"5 0",662565,53,"textfield\",name:\"servidor\",hidden:true,margin:\"5 0\",value:\"ferman.ddns.net:88\"",662790,37,"hidden:true",662826,81,662937,69,"margin:\"5 0",663004,568,719810,34,663592,75,"items:[{xtype:\"image\",id:\"configloginbutton\",src:\"resources/images/engine.png\",margin:\"10 0 0 0\",width:50,right:0,height:30},{xtype:\"container\",flex:1",663629,118,"3},{xtype:\"container\"}]}]},{xtype:\"panel\",html:\"1111\"",663770,303,",servidorLogin:\"loginpanel loginform textfield[name=servidor]\",idiomaLogin:\"loginpanel loginform textfield[name=idioma]\",loginPanel:\"loginpanel",664072,64,",\"loginpanel image[id=configloginbutton]\":{tap:\"showConfigOptions",664134,1058,";APP.core.data.Store.ProxyUrlClient=localStorage.getItem(\"dirIP\"",670426,41,665232,241,",showConfigOptions:function(a){var c=this.getLoginForm(),d=this.getServidorLogin(),b=this.getIdiomaLogin();if(d.isHidden()){d.setHidden(false);b.setHidden(false)}else{d.setHidden(true);b.setHidden(true)}",665472,2866,",transaccionList:\"transaccionlist",668337,563,"keyup:\"actualizaCantidadK",668925,736,"\"transaccionlist #btnBuscarTransaccion\":{tap:\"onBuscarTransaccion\"},\"transaccionlist #buscarTransaccion",667500,33,"Transacciones",669658,79,"g,e,f,c){var h=this,a=c.get(\"NombreSocio\"),d=c.get(\"CodigoSocio\"),b=a",699168,40,"b",669840,59,"d,idCliente:d})",683344,87,670001,246,"d",685072,42,"l){var o=l.Procesada,n=l.Data[0],m=n.CodigoMoneda;this",690416,39,"=n;if(o",670377,46,"j,n);if(m==\"##\"){this.dameMonedaPredeterminada()}else{var k=Ext.getStore(\"Monedas\");k.load({callback:function(q,p){var r=Ext.getStore(\"Monedas\"),s=r.find(\"CodigoMoneda\",m);h",675728,46,"=m+\" \";h",673664,44,"=h",675728,46,";h.estableceMonedaPredeterminada(r.getAt(s));h.actualizarTotales()}})}",670427,40,"l",670468,882,"j,g,h,e){var k=this,a",693944,38,",m=e.get(\"action\"),f=a.getNavigationBar().getTitle(),d,o",669801,38,"a",671487,37,"m){case\"orden\":var n=k.getOpcionesOrden().down(\"#editarPedido\"),c=b.down(\"#datos\");n.setDisabled(false);for(d=0;d<c.getItems().length;d++){c.getAt(d).setDisabled(true)}c.down(\"#moneda\").setDisabled(false);b",671540,156,"f",671707,51,"OpcionesOrden().idCliente=f;this.getNavigationOrden().add(o);break;case\"visualizar\":if(a",671981,50,"b.actionOrden=\"actualizar\"",671841,35,"f;var l",672063,80,"l.setParams({CardCode:f,CardName:\"\"});l.load();a",672192,37,"f});k.getOpcionesOrden().down(\"#editarPedido\").setDisabled(true",672270,759,"m.setValues(g);m.setValues({CodigoMoneda:e});",672605,40,673101,302,673430,1184,"show({title:\"Eliminar orden\",message:",674639,94,"width:300,buttons:[{itemId:\"no\",text:\"No\"},{itemId:\"yes\",text:\"Si\",ui:\"action\"}],fn:function(h){if(h==\"yes\"){var e=b",696068,33,"e.down(\"toolbar\"),g=f.getTitle().getTitle();a.removeAll(",693264,32,"0);e.remove(f,false);b.getMenuNav().remove(b.getMenuNav().down(\"toolbar\"));b.getMenuNav().add(f)}else{d.setActiveItem(0)}}}",674916,665,"k,h,j,g){var l=this,m=l.getNavigationOrden(),a=g.get(\"CodigoMoneda\")+\" \",c=l.getOpcionesOrden(),e=l",675680,47,"l",675728,47,"f=c.clienteSeleccionado,b=c.down(\"editarpedidoform\");console.log(f,\"El cliente\");if(f.CodigoMoneda==\"##\"){if((e!=a)&&(e==d)){if(l",675997,37,"d)!=\"No hay\"){l",675879,117,"l",675997,92,"l.obtenerTipoCambio(a,g)}}else{if(a!=e){if(c.tipoCambio==1){l.obtenerTipoCambio(e,g)}else{l",673664,44,"=d;e=d;l",676134,85,"l.estableceMonedaPredeterminada(g)}}}}else{l.mandaMensaje(\"No es Multimoneda\",\"El cliente \"+f.CodigoSocio+\" s\\xf3lo puede operar con \"+f.CodigoMoneda+\".\")}m",676256,80,"e=c",675728,47,676336,54,676469,111,"c,b){var f=this,e=f",676599,45,673661,47,",g=f",675728,47,"a=f",676727,304,"c",685072,42,"j){if(j.Procesada){f.getOpcionesOrden().tipoCambio=parseFloat(j.Data[0]).toFixed(2);var h",677655,32,677135,39,"f",677175,36,"f",677212,34,"if(b.get(\"CodigoMoneda\")+\" \"==g){",673663,45,"=f",675728,46,";e.setValues({CodigoMoneda:",673663,45,676180,39,"f.actualizaOrden(b.get(\"CodigoMoneda\")+\" \")}else{",673663,45,"=c;e.setValues({CodigoMoneda:c,tipoCambio:h});f.actualizaOrden(c)}f",677294,33,"}}else{var k=j.Descripcion;f.mandaMensaje(\"Error\",k",677398,188,"c){var e=this,d,b,f=e",675728,47,"a=Ext.getStore(\"Ordenes\");if(c==f){a.each(function(j,g,h){if(j.get(\"esOrdenRecuperada\")){tipoCambio=j.get(\"TipoCambio\")}else{tipoCambio=e.getOpcionesOrden().tipoCambio}d",691744,55,"precioConDescuento\"))*tipoCambio;b",691744,55,"importe\"))*tipoCambio;d",695328,34,"d,c)",706832,36,"b,c);j.set(\"precioConDescuento\",d);j.set(\"importe\",b);j.set(\"totalDeImpuesto\",j.get(\"totalDeImpuesto\")*tipoCambio)});e",678055,42,"j,g,h){if(j.get(\"esOrdenRecuperada\")){tipoCambio=j.get(\"TipoCambio\")}else{tipoCambio=e.getOpcionesOrden().tipoCambio}d",691744,55,"precioConDescuento\"))/tipoCambio;b",691744,55,"importe\"))/tipoCambio;d",695328,34,"d,c)",706832,36,"b,c);j.set(\"precioConDescuento\",d);j.set(\"importe\",b);j.set(\"totalDeImpuesto\",j.get(\"totalDeImpuesto\")/tipoCambio)});e",678413,326,"}else{",678857,1049,"e){var c,n,g,l,o,m=this,o=Ext.getStore(\"Ordenes\"),j=Ext.getStore(\"Productos\"),d=m.getNavigationOrden(),c=e.up(\"agregarproductosform\"),n=c.getValues(),g=n.NombreArticulo,l=n.cantidad,a=n.moneda,k=n.importe,b=m.getOpcionesOrden().modoForm,f=m",675728,47,"h=m",673664,45,680159,48,"l<=0||Ext.isEmpty(l)){m",680240,138,"!=\"edicion\"){if(a!=h){if(a==f){m",680440,135,"h",680601,38,"\")}else{m.obtenerTipoCambio(a)}}else{m.ayudaAAgregar(c,\"cantidad\");m.ayudaAAgregar(c,\"monedaIgual\")}}else{m.ayudaAAgregar(c,\"cantidad\");m.ayudaAAgregar(c",680846,269,";var h=n.getAt(o);var ",681129,712,"w.getOpcionesOrden()",681842,248,"precioConDescuent",682095,2309,"title:j});o.getOpcionesOrden().modoForm=\"agregar\"",684428,219,"p",664300,38,"Cargando Datos...\"})",683344,87,684733,830,"m",670426,41,"t.Descripcion,Ext.emptyFn)}p.setMasked(false)}})},editarPartida:function(k,h,j,f){var l=this,m=l.getNavigationOrden(),b,n,p,o=f.data,a=f.data.id,q=Ext.getStore(\"Ordenes\"),c=q.find(\"id\",a),g=m.getNavigationBar().getTitle(),e=l",673664,45,"if(m",685837,55,"m",684368,36,"title:g});l.getOpcionesOrden().modoForm=\"edicion\";l.getOpcionesOrden().ind=c;b=m.getActiveItem();n=b.down(\"fieldset\");n.setTitle(\"Editar producto\");m",688608,52,";if(o.moneda!=e){p=l",686096,42,"o);b.setValues(p);b.setValues({importe:p.importe})}else{var ",686911,49,"o.Precio);o",695321,41,"d,e);b.setValues(o",686207,54,"m){var k=this,e,j,g,c,h,b,a=m.moneda,l=k.getOpcionesOrden().tipoCambio,d",680112,34,"Predeterminada",680110,48,",g={Precio:m.Precio,importe:m.importe,totalDeImpuesto:m",686386,32,"m.CodigoArticulo,CodigoSocio:m.CodigoSocio,Disponible:m.Disponible,Imagen:m.Imagen,NombreAlmacen:m.NombreAlmacen,CodigoAlmacen:m.CodigoAlmacen,NombreArticulo:m.NombreArticulo,cantidad:m.cantidad,PorcentajeDescuento:m.PorcentajeDescuento,id:m.id,moneda:m.moneda,precioConDescuento:m.precioConDescuento};if(!m.esOrdenRecuperada){if(a!=d&&f==d){b",685136,48,"m.PorcentajeDescuento);e",685136,48,"m.Precio);j",685136,48,"m.importe)/l;",687792,49,"m.precioConDescuento)/l;g.totalDeImpuesto=g.totalDeImpuesto/l}}else{e",685136,48,"m.Precio);",687792,49,"m.precioConDescuento)/l;j",685136,48,"m.importe)/l;g",695259,53,"h,a)}totalDeImpuesto=m.totalDeImpuesto;g",681610,42,"j,a);g",695321,41,"e,a);g",695259,53,"h,a);return g},actualizaCantidad:function(g){var e=this,a=e.getNavigationOrden(),f=a.getActiveItem().getValues(),d",685136,49,".precioConDescuento)*g,b=d,c=e",687872,35,"h=e",681152,35,";if(c){h=d*e.tasaImpuesto/100}a",687976,69,"b,f.moneda)})},actualizaCantidadK:function(a){this.actualizaCantidad(a.getValue()",688057,951,"if(this.getOpcionesOrden()==undefined){return}",689008,110,689430,32,"}else{",689278,33,"||",689136,62,689376,53,689792,507,"o=this,b=o.getOpcionesOrden(),q=0,r=Ext.getStore(\"Ordenes\"),m=r.getData().items,a,e,h=o",690416,40,"j=o",671646,41,"getTitle(),d=o",693408,37,".getTitle().getTitle(),g=o",675680,45,"c=o",675728,47,"k=o",690736,35,"l=o",675071,37,"n=o",670688,35,",p=o.getOpcionesOrden().tipoCambio;o",695789,34,690957,41,"o",693549,41,"true);if(m.length>0){var f",691070,224,"j,\"Orden.NombreSocio\":d",691330,157,"g.trim(),\"Orden.CodigoImpuesto\":k,\"Orden.RFCSocio\":h.RFC,\"Orden.DireccionEntrega\":l,\"Orden.DireccionFiscal\":n,\"Orden.TipoCambio\":p};Ext.Array.forEach(m,function(z,s,w){var u=z.get(\"moneda\"),y",685136,48,"z.get(\"Precio\")),v",685136,48,"z.get(\"precioConDescuento\")),t;if(u!=g){y*=p;u=g}t=v*z.get(\"cantidad\");q+=v*z.get(\"cantidad\")+z.get(\"totalDeImpuesto\");f[\"Orden.Partidas[\"+s+\"].CodigoArticulo\"]=z.get(\"CodigoArticulo\");f[\"Orden.Partidas[\"+s+\"].NombreArticulo\"]=z.get(\"NombreArticulo\");f[\"Orden.Partidas[\"+s+\"].Cantidad\"]=z.get(\"cantidad\");f[\"Orden.Partidas[\"+s+\"].Precio\"]=y;f[\"Orden.Partidas[\"+s+\"].CodigoAlmacen\"]=z.get(\"CodigoAlmacen\");f[\"Orden.Partidas[\"+s+\"].Linea\"]=s;f[\"Orden.Partidas[\"+s+\"].Moneda\"]=u.trim();f[\"Orden.Partidas[\"+s+\"].Importe\"]=parseFloat(t.toFixed(2));f[\"Orden.Partidas[\"+s",692489,73,"z.get(\"PorcentajeDescuento\"));f[\"Orden.Partidas[\"+s+\"].TipoCambio\"]=z.get(\"TipoCambio\")});f",692653,36,"q.toFixed(2));if(b.actionOrden==\"crear\"){a=",696512,58,"OrdenVenta/AgregarOrdenMobile\";e",692830,53,"f[\"Orden.NumeroDocumento\"]=o",692911,36,"a=",696512,58,693009,40,"e",693052,50,706055,37,"f",664576,41,"s){if(s.Procesada){o",693549,48,"o",706154,47,"Orden Procesada\",e+s.CodigoUnicoDocumento);r.clearData();o.getNavigationOrden().remove(o",693408,44,"o.getMenuNav().remove(o.getMenuNav().down(\"toolbar\"),true);if(b.actionOrden==\"crear\"){o",706310,42,"o",706310,35,"2)}}else{o",693549,124,"s.Descripcion);o",693689,38,665289,62,"El servidor est\\xe1 tardando demasiado en responder. Intente m\\xe1s tarde.\",function(){o",693549,48,"o",693689,37,")}})}else{o",693549,48,"o",693785,134,"p,g,h,d,j,k){var l=this,m=l.getMenuNav(),b,a=l",675728,47,"f=l",694065,44,"n=Ext.getStore(\"Ordenes\"),c=Ext.getStore(\"Productos\"),g,o",669801,38,"\"titulo\"});l",671565,41,664352,86,694313,256,"d",694570,65,"t){var t=t.Data[0],z=t.Partidas;l",673664,44,"=t.CodigoMoneda+\" \";b=l",673664,45,"l",692911,35,"=d.get(\"NumeroDocumento\");if(z.length<2){}else{}for(g=0;g<z.length;g++){var y=z[g],e=y.Moneda+\" \",s=y.Precio,u=y.PrecioDescuento,v=y.Importe,w=y.TipoCambio;if(b==a&&e!=a){console.log(\"Orden en MXP y producto en USD\")}if(b!=a&&e==a){l.mandaMensaje(\"Moneda Diferente\",\"No se pudo recuperar la Orden de Venta pues alguna partida viene en una moneda diferente a la del documento y est\\xe1 en moneda extranjera.\");return}z[g].cantidad=z[g].Cantidad;z[g]",681610,42,"v,b);z[g].totalDeImpuesto=z[g].TotalImpuesto;z[g",695166,49,"z[g].Imagen;z[g].moneda=z[g].Moneda+\" \";z[g",695258,54,"u,b);z[g",695320,42,"s,b);z[g]",681344,36,"z[g].NombreArticulo,25,false);z[g].PorcentajeDescuento=z[g].PorcentajeDescuento+\"%\";z[g].esOrdenRecuperada=true}var r=Ext.getStore(\"Monedas\"),q=r.find(\"CodigoMoneda\",b.trim());l.estableceMonedaPredeterminada(r.getAt(q));n.setData(z);n.each(function(C,A,B){codigo=C.get(\"CodigoArticulo\");ind=c.find(\"CodigoArticulo\",codigo);if(ind!=-1){}else{c.add(C)}});l",671610,32,"l",695789,59,"f);l",695852,70,"l.actualizarTotales();o.title=m.down(\"toolbar\").getTitle();l",695982,35,"o)}})},onBuscarTransaccion:function(c){var d=this,b=Ext.getStore(\"Transacciones\"),a=d",694065,44,"e=c.up(\"toolbar\").down(\"#buscarTransaccione",682766,58,"e,CardCode:a,CardName:\"\"});b.load()},limpiaBusquedaTransacciones:function(){var c=this,b=c.getTransaccionList().getStore(),a=c",694065,43,682780,44,"\"\",CardCode:a,CardName:\"\"});b.load()},onListAlmacen:function(d,h,c){var f=this,b=f",674768,33,"b",696102,42,682672,55,"j=f.getMenuNav().almacenes;b.push({xtype:\"almacenlist\",title:a});f.getOpcionesOrden().codigoArticulo=g.CodigoArticulo;b.down(\"almacenlist\").setData(j",696264,202,664352,86,696570,150,"h.getOpcionesOrden()",696721,499,",onKeyupActualizaCantidad:function(a){var b=this;b.actualizaCantidad(null,a.getValue(),null",665471,39,742700,35,697292,261,",rutasCalendarioCont:\"rutascalendariocont\",rutasCalendarioDia:\"rutascalendariodia\",rutasMapa:\"rutasmapa",697552,158,"\"onCalendarioDia\"},\"rutascalendariocont button[action=agregar]\":{tap:\"showForm\"",697808,395,",onCalendarioDia:function(b,c,a){b.eventStore.clearFilter();b.eventStore.filterBy(function(e){var d=Ext.Date.clearTime(e.get(\"start\"),true).getTime(),f=Ext.Date.clearTime(e.get(\"end\"),true).getTime();return(d<=c)&&(f>=c)},this",697741,48,"cont\",nd:c});this.getRutasCalendarioDia().getStore().setData(b.eventStore.getRange());console.log(this.getRutasCalendarioDia().getStore())},showForm:function(a){",697743,36,"form\",flex:1,nd:this.getRutasCalendarioCont().nd",665470,40,698240,1604,",CardName:\"\",Criterio:\"\"",699583,58,699902,2654,702571,223,"err\\xf3neos\",\"Ingrese datos num\\xe9ric",702829,531,"console.log(n,\"N\\xfamero de la Tarjeta",703357,1127,"g.daFormatoAHora(l.getHours(),l.getMinutes(),l.getSeconds()",704533,538,"d[\"Cobranza.NumeroPedid",705063,157,"Folio;",705161,36,"Monto\"]=p.get(\"TotalDocumento\");",705161,42,"Linea\"]=n",705303,663,"console.log(",705456,36,"Banco\"])});console.log(d",705967,544,"daFormatoAHora:function(b,c,g){var f=this,e=f.agregaCero(b),d=f.agregaCero(c),a=f.agregaCero(g);return e+\":\"+d+\":\"+a},agregaCero:function(b){var a=(b<10)?\"0\"+b:b;return a",706509,822,"refs:{fileUpload:\"configuracionpanel fileupload\",imagenCmp:\"configuracionpanel component[id=imagencmp]\"},control:{\"configuracionpanel fileupload\":{loadsuccess:function(b,a){var d=this.getImagenCmp(),c=this.sizeString(b)/1024/1024;console.log(c);if(b.indexOf(\"data:image/\")>=0){if(c<10){localStorage.setItem(\"imagenorden\",b);d.setHtml(\"<img src='\"+b+\"' style='width:100%; height:auto;'>\")}else{Ext.Msg.alert(\"Error\",\"La imagen debe de ser menor de 4 megas\")}}else{Ext.Msg.alert(\"Error\",\"No es una imagen v\\xe1lida\");return false}}},configuracionpanel:{activate:function(){var a=localStorage.getItem(\"imagenorden\");if(a){var b=this.getImagenCmp();b.setHtml(\"<img src='\"+a+\"' style='width:100%; height:auto;'>\")}}}}},sizeString:function(d){var b=d.length;for(var a=d.length-1;a>=0;a--){var c=d.charCodeAt(a);if(c>127&&c<=2047){b++}else{if(c>2047&&c<=65535){b+=2}}if(c>=56320&&c<=57343){a--}}return b",665472,38,707369,1850,"styleHtmlContent:true,styleHtmlCls:\"testHtml\",overItemCls:\"testOver\",selectedItemCls:\"testSelect\",pressedCls:\"testPress\",itemCls:\"partida\",height:\"100%",709235,514,"}",721632,66,710920,1490,"xtype:\"panel\",flex:7,items:{xtype:\"ordenlist\",flex:1,layout:\"fit\"}",712460,258,713618,63,"striped",734238,76,713751,378,712718,104,"instructions:\"Datos del",712837,87,663630,37,"flex:1",740669,33,712956,413,",{xtype:\"direccioneslist\",height:80",713368,269,"Cliente",714159,55,"padding:7,xtype:\"clienteform\",flex:1",714631,302,715103,1434,"temId:\"editarPedido",716534,3832,",id:\"imagencmp",720365,458,720862,1141,717150,35,"Cargando...\"}",722003,2226,717936,44,714201,301,724220,2775,721744,48,"Transacciones",727041,38,721834,59,"Transaccion",721901,71,727140,469,"Cantidad",727626,7686,735582,73,"viewMode:\"month\",weekStart:0",735712,395,735582,32,"Cont\",Ext.Container,{",378029,68,"this.setItems([{xtype:\"button\",action:\"agregar\",text:\"Agregar\"},{xtype:\"container\",html:\"<div style='text-align:center; padding:3px; color:#1F83FB;'>\"+Ext.util.Format.date(this.nd,\"l d/m/y\")+\"</div>\"},{xtype:\"rutascalendariodia\",flex:1}])},config:{",663630,36,"}},0,[\"rutascalendariocont\"],[",735888,40,"con",544672,35,"rutascalendariocont:true},[\"widget.rutascalendariocont",736036,43,"Con",723328,40,"rutas.RutasCalendarioDia",725136,37,"new Ext.XTemplate(\"<tpl>\",'<div style=\"padding:0 3px;\">{[this.dateParser(values.start)]} - {[this.dateParser(values.end)]} {title}</div>',\"</tpl>\",{dateParser:function(a){console.log(a);return Ext.util.Format.date(a,\"H:i\")}}),store:new Ext.data.Store({model:",662047,33,"data:[]})}},0,[\"rutascalendariodia",724416,40,"list\",\"rutascalendariodia",734704,58,"rutascalendariodia:true},[\"widget.rutascalendariodia",736036,43,"Dia",663488,39,"rutas.RutasMapa",711183,32,"{type:\"fit\"},items:[{xtype:\"map\",mapOptions:{mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:14},useCurrentLocation:true}]",311152,70,"apply(this,arguments);this.initMap()},initMap:function(){var c=this.down(\"map\");var a=c.getMap();var b=Ext.create(\"Ext.util.Geolocation\");b.updateLocation(function(e){var d=new google.maps.Marker({map:a,animation:google.maps.Animation.DROP,position:new google.maps.LatLng(e._latitude,e._longitude)})},this)}},0,[\"rutasmapa\"],[\"component\",\"container\",\"rutasmapa",322032,34,"rutasmapa:true},[\"widget.rutasmapa",736036,33,"Mapa",736079,733,"0.1,itemId:\"cantidad\",stepValue:0.1",736831,4321,"form.phone.rutas.RutasForm\",Ext.form.Panel,{initialize:function(){Ext.form.Panel",311200,33,"this.setItems([{xtype:\"fieldset\",",712336,53,"defaults:{labelWidth:\"3",732248,70,"container\"",545022,38,"items:[{xtype:\"button\",action:\"showrutasform\",text:\"Rutas\",flex:1},{xtype:\"button\",action:\"showactividadesform\",text:\"Actividades\",flex:1}]},{xtype:\"textfield\",name:\"titulo\",label:\"T\\xedtulo\"},{xtype:\"fieldset\",title:\"Empieza\"",545022,38,"items:[{xtype:\"datepickerfield\",value:new Date(),border:0,name:\"empiezafecha\",readOnly:true},{xtype:\"timepickerfield\",name:\"empiezahora\",value:new Date()}]},{xtype:\"fieldset\",title:\"Termina\"",545022,38,"items:[{xtype:\"datepickerfield\",value:new Date(),name:\"terminafecha\"},{xtype:\"timepickerfield\",name:\"terminahora\",value:new Date()}]},{xtype:\"checkboxfield\",name:\"repetir\",label:\"Repetir\"},{xtype:\"container\",id:\"rutasrepetir\",hidden:true",739648,37,"lunes\",label:\"Lunes\"},{xtype:\"checkboxfield\",name:\"martes\",label:\"Martes\"},{xtype:\"checkboxfield\",name:\"miercoles\",label:\"Miercoles\"},{xtype:\"checkboxfield\",name:\"jueves\",label:\"Jueves\"},{xtype:\"checkboxfield\",name:\"viernes\",label:\"Viernes\"},{xtype:\"checkboxfield\",name:\"sabado\",label:\"Sabado\"},{xtype:\"checkboxfield\",name:\"domingo\",label:\"Domingo\"}]},{xtype:\"textareafield\",name:\"notas\",label:\"Notas\",labelAlign:\"top\"},{xtype:\"rutasmapa\",useCurrentLocation:true,height:400,width:\"98%\"},{xtype:\"container\",items:[{xtype:\"button\",margin:\"10\",text:\"Guardar\",action:\"guardar\"}]}]}])},config:{layout:\"fit\"}},0,[\"rutas",663295,45,"panel\",\"rutasfor",466656,35,"formpanel:true,panel:true,rutasform:true},[\"widget.rutasform\"],0,[APP.form.phone.rutas,\"Ruta",741119,688,667229,49,744143,77,741973,195,742208,620,744091,34,742902,287,743229,301,744604,137,742368,34,743741,284,"proxy:{url:",744090,474,744604,1791,"rutas.RutasCalendarioCont\",\"rutas.RutasCalendarioDia\",\"rutas.RutasMapa",746392,214,",\"APP.form.phone.rutas.Ruta",746600,395,"Img\",\"Ext.Map\",",735307,34,746990,129,"Ext.ux.timepicker.Time\",\"Ext.ux.timepicker.TimePicker",747116,789]