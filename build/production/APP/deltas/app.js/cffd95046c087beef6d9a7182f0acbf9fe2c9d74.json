["function _ce04963ba9d99bdbb45e745a3006a1036d00c891",50,663697,"9",663748,5913,"\"transaccionlist #btnBuscarTransaccion\":{tap:\"onBusc",669645,1711,"c){var h=this,a=h.getMenuNav(),b=h.getOpcionesOrden(),k=c.get(\"action\"),d=a.getNavigationBar().getTitle(),l",700203,38,"a",671487,52,"b",671540,156,"d",671707,169,"d;this.getNavigationOrden().add(l);break;case\"visualizar\":if(a",671981,50,"b.actionOrden=\"actualizar\"",671841,35,"d",672057,108,"d});j.load();a",672192,37,"d",672240,2502,"j){if(j==\"yes\"){var f=b",674768,50,",h=g.getTitle().getTitle();a.removeAll();b",706141,32,"f.remove(g,false);console.log(h);b.getMenuNav().remove(b.getMenuNav().down(\"toolbar\"));b.getMenuNav().add(g)}else{d.setActiveItem(0)}}",674916,907,"console.log(e,\"La actual\");console.log(a,\"La que eleg\\xed\");",675823,306,675679,45,"=d;",676129,207,"e=c",675728,47,676336,244,"c,b){var f=this,e=f",676599,45,673661,47,",a=f",676729,304,"c",683712,42,"h){if(h.Procesada){f.getOpcionesOrden().tipoCamb",677102,36,"var g",677657,32,";console.log(g);console.log(f.getOpcionesOrden().tipoCambio",677136,40,"f",677177,36,"f",677214,34,673663,45,"=c;console.log(",673663,45,");e.setValues({CodigoMoneda:c,tipoCambio:g});f",677296,34,"f.actualizaOrden(c)}}else{var j=h.Descripcion;f",677377,371,"console.log(k.get(\"esOrdenRecuperada\"));if(k.get(\"esOrdenRecuperada\")){b=k.get(\"TipoCambio\")}e",678175,55,"precioConDescuento\"))*",678172,68,"*b;e",695280,34,677920,52,"precioConDescuent",678335,73,678050,56,"console.log(k.get(\"precioConDescuento\"),\"precio con descuento\");console.log(b,\"Tipo de cambio\");if(k.get(\"esOrdenRecuperada\")){b=k.get(\"TipoCambio\")}e",678175,55,"precioConDescuent",678167,163,"precioConDescuent",678335,1573,"e){var c,l,f",679920,66,"d=k.getNavigationOrden(),c=e.up(\"agregarproductosform\"),l=c.getValues(),f",680059,54,"b=k.getOpcionesOrden().modoForm;codigoMonedaSeleccionada",675678,46,680160,61,"f",680222,154,"console.log(b);if(b!=\"edicion\"){if(a!=codigoMonedaSeleccionada",680405,298,"console.log(a,\"La moneda del producto es diferente a la seleccionada.\");",680703,45,"c,\"cantidad\");k.ayudaAAgregar(c",680779,38,"c,\"cantidad\");k.ayudaAAgregar(c",680848,43,"console.log(c.getValues().CodigoArticulo);",680891,226,";console.log(o,\"indice del producto\");var h=n.getAt(o);console.log(h,\"Producto Agregado\");var ",681131,330,"console.log(r,\"Tipo de cambio\");m",678175,48,681510,333,"w.getOpcionesOrden()",681844,248,"precioConDescuento\",m);",682204,96,682199,2207,"title:j});o.getOpcionesOrden().modoForm=\"agregar\"",684430,1242,"k,h,j,f){var l=this,m=l.getNavigationOrden(),b,n,p,o=f.data,a=f.data.id,q=Ext.getStore(\"Ordenes\"),c=q.find(\"id\",a),g=m.getNavigationBar().getTitle(),e=l",673664,45,"if(m",685839,55,"m",685895,36,"title:g});l.getOpcionesOrden().modoForm=\"edicion\";l.getOpcionesOrden().ind=c;b=m.getActiveItem();n=b.down(\"fieldset\");n.setTitle(\"Editar producto\");m",689742,46,"hide();if(o.moneda!=e){console.log(o.moneda,\"La moneda del producto\");console.log(e,\"La moneda seleccionada\");console.log(o.Precio,\"El Precio\");p=l.",686213,40,"(o);b.setValues(p);b.setValues({importe:p.importe})}else{console.log(o.Precio,\"El precio del form\");var ",687246,49,"o.Precio);o",695323,41,"d,e);b.setValues(o",686209,54,"m){var k=this,e,j,g,c,h,b,a=m.moneda,l=k.getOpcionesOrden().tipoCambio",675724,51,"f",675678,47,"g={Precio:m.Precio,importe:m.importe,totalDeImpuesto:m",686388,32,"m.CodigoArticulo,CodigoSocio:m.CodigoSocio,Disponible:m.Disponible,Imagen:m.Imagen,NombreAlmacen:m.NombreAlmacen,CodigoAlmacen:m.CodigoAlmacen,NombreArticulo:m.NombreArticulo,cantidad:m.cantidad,PorcentajeDescuento:m.PorcentajeDescuento,id:m.id,moneda:m.moneda,precioConDescuento:m.precioConDescuento};if(!m.esOrdenRecuperada){if(a!=d&&f==d){console.log(m);b",678175,48,"m.PorcentajeDescuento);e",678175,48,"m.Precio);j",678175,48,"m.importe)/m.TipoCambio;h",678175,48,"m.precioConDescuento)/m.TipoCambio;g.totalDeImpuesto=g.totalDeImpuesto/m.TipoCambio}}else{console.log(m);e",678175,48,"m.Precio);h",678175,48,"m.precioConDescuento)/m.TipoCambio;j",678175,48,"m.importe)/m.TipoCambio;console.log(e);console.log(h);g",695261,53,"h,a)}totalDeImpuesto=m.totalDeImpuesto;g",681612,42,"j,a);g",695323,41,"e,a);g",695261,53,"h,a);return g",687690,1510,689741,53,689280,70,689741,53,689431,248,"d",688669,33,689740,561,"o=this,b=o.getOpcionesOrden(),q=0,r=Ext.getStore(\"Ordenes\"),m=r.getData().items,a,e,h=o",670331,39,",j=o",671646,41,"getTitle(),d=o",690527,48,".getTitle(),g=o",675680,45,"c=o",675728,47,"k=o",675111,35,"l=o",675071,37,"n=o",670688,35,",p=o.getOpcionesOrden().tipoCambio;o",695791,34,690959,41,"o",693551,41,"true);if(m.length>0){var f",691072,224,"j,\"Orden.NombreSocio\":d",691332,157,"g.trim(),\"Orden.CodigoImpuesto\":k,\"Orden.RFCSocio\":h.RFC,\"Orden.DireccionEntrega\":l,\"Orden.DireccionFiscal\":n};Ext.Array.forEach(m,function(y,s,v){var t=y.get(\"moneda\"),w",678175,48,"y.get(\"Precio\")),u",678175,48,"y.get(\"precioConDescuento\"));console.log(u);importe=u*y.get(\"cantidad\");q+=u*y.get(\"cantidad\")+y.get(\"totalDeImpuesto\");f[\"Orden.Partidas[\"+s+\"].CodigoArticulo\"]=y.get(\"CodigoArticulo\");f[\"Orden.Partidas[\"+s+\"].Cantidad\"]=y.get(\"cantidad\");f[\"Orden.Partidas[\"+s+\"].Precio\"]=w;f[\"Orden.Partidas[\"+s+\"].CodigoAlmacen\"]=y.get(\"CodigoAlmacen\");f[\"Orden.Partidas[\"+s+\"].Linea\"]=s;f[\"Orden.Partidas[\"+s+\"].Moneda\"]=t.trim();f[\"Orden.Partidas[\"+s+\"].Importe\"]=parseFloat(importe.toFixed(2));f[\"Orden.Partidas[\"+s",692491,73,"y.get(\"PorcentajeDescuento\"));f[\"Orden.Partidas[\"+s+\"].TipoCambio\"]=y.get(\"TipoCambio\")});f",692655,36,"q.toFixed(2));if(b.actionOrden==\"crear\"){a=",683375,58,"OrdenVenta/AgregarOrdenMobile\";e",692832,53,"f[\"Orden.NumeroDocumento\"]=o",694716,35,";a=",683375,58,693011,40,"e",693054,62,"f)",706041,38,"f",664576,41,"s){if(s.Procesada){o",693551,48,"o",706141,47,"Orden Procesada\",e+s.CodigoUnicoDocumento);r.clearData();o.getNavigationOrden().remove(o",690527,37,",true);o.getMenuNav().remove(o.getMenuNav().down(\"toolbar\"),true);if(b.actionOrden==\"crear\"){o",706297,42,"o",706297,35,"2)}}else{o",693551,124,"s.Descripcion);o",693691,38,665289,62,"El servidor est\\xe1 tardando demasiado en responder. Intente m\\xe1s tarde.\",function(){o",693551,48,"o",693691,37,")}})}else{o",693551,48,"o",693787,176,",a",675726,49,694064,145,"1",694210,461,672399,43,"=e.CodigoMoneda+\" \";b",675678,46,694714,231,"z,t){console.log(z,\"Item\");var v=z.Moneda+\" \",y=z.Precio,u=z.Importe,w=z.PrecioDescuento,s=z.TipoCambio;console.log(b,\"Moneda del documento\");console.log(a,\"Moneda predeterminada\");console.log(v,\"Moneda del producto actual\");if(b==a&&v!=a){console.log(z.PrecioDescuento,\"Precio con descuento\");console.log(s,\"El tipo de cambio\");w*=s}if(b!=a&&v!=a){console.log(u,\"Importe\");console.log(s,\"El tipo de cambio\");u/=s}q[t].cantidad=q[t].Cantidad;q[t]",681612,42,"u,b);q[t].totalDeImpuesto=q[t].TotalImpuesto;q[t",695168,51,"t].Imagen;q[t].moneda=q[t].Moneda+\" \";q[t",695260,54,"w,b);q[t",695322,42,"y,b);q[t",695372,39,"t].NombreArticulo,25,false);q[t].PorcentajeDescuento=q[t].PorcentajeDescuento+\"%\";q[t",695496,39,"t],\"Partidas\")});",695575,86,",\"\\xcdndice Moneda\"",695661,45,";",695707,80,"1",695981,34,695822,199,";console.log(Ext.getStore(\"Productos\").getData())}})},onBuscarTransaccion:function(b){var c=this,a=Ext.getStore(\"Transacciones\"),d=b.up(\"toolbar\").down(\"#buscarTransaccion",667800,59,"d});a.load()},onListAlmacen:function(d,h,c){var f=this,b=f",674768,33,"b",696104,42,"a=f",671646,41,"getTitle(),j=f.getMenuNav().almacenes;b.push({xtype:\"almacenlist\",title:a});f.getOpcionesOrden().codigoArticulo=g.CodigoArticulo;b.down(\"almacenlist\").setData(j",696266,456,"h.getOpcionesOrden()",696723,1007,"console.log(c);",698111,47,697777,4766,702558,223,"err\\xf3neos\",\"Ingrese datos num\\xe9ric",702816,24166,727931,48,"Transacciones",727028,38,721821,59,"Transaccion",721888,71,727127,469,"Cantidad",727613,9186,"0",736800,11092]