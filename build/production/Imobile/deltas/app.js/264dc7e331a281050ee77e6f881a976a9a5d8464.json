["function _3de7066b7b904eaa2b8b300705326864357c31b9",50,604363,"section>\",'<span id=\"imagen\"><img src=\"{Imagen}\" width=\"60px\" height=\"60px\"></span>',\"<span>\"",604616,139,"Cantidad",604763,35,"\"<span>\"",604827,75,"e",604903,55,604980,40,"section",605023,3082,"text",608111,1333,608047,39,609485,47,"Nombre",609532,55,"text",608111,34,607968,96,609723,42,"text",609771,4368,"masked:{xtype:\"loadmask\",message:\"Trabajando...\",fullscreen:true,indicator:true",614137,10012,"ferman.ddns.net",624162,6458,"c,d,g,b,e){var f=this,c=f.getMenu(),a=b.get(\"action\");switch(a){case\"sistema\":c",630713,58,"c",630772,32,"f",630805,52,"c.push({xtype:\"clienteslist\",itemId:a}",639310,46,630948,50,"f",630999,55,"c",631055,59,"c",631115,62,"c",631178,63,"c",631242,1165,"parseFloat(1).toFixed(2)",632408,2174,"f.clienteSeleccionado.LimiteCredito=parseFloat(f.clienteSeleccionado.LimiteCredito).toFixed(2);f.clienteSeleccionado.Saldo=parseFloat(f.clienteSeleccionado.Saldo).toFixed(2);e",634857,33,634616,126,"parseFloat(1).toFixed(2)",634743,39,"parseFloat(f.tipoCambio).toFixed(2)}f.clienteSeleccionado.LimiteCredito=parseFloat(f.clienteSeleccionado.LimiteCredito).toFixed(2);f.clienteSeleccionado.Saldo=parseFloat(f.clienteSeleccionado.Saldo).toFixed(2);",634795,61,"console.log(f.clienteSeleccionado)",634855,1661,636546,190,636738,837,"e.TipoCambio=t.tipoCambio",637131,51,637625,143,"r.get(\"TipoCambio\");g=m*s;m",637856,38,637826,117,"r.get(\"TipoCambio\")",637955,1787,"switch(f.getItemId()",639775,780,640579,1300,"console.log(e.Data[0]",641877,659,";k=1",651168,39,"m",654064,42,642622,469,"console.log(o);console.log(p.Data[0]);h=(o-p.Data[0]).toFixed(2);console.log(h);h=(h*100/o);console.log(h)",643114,620,"console.log(l",643732,502,"h=this,g,e,d,a,f",644248,400,"console.log(c);console.log(h.codigoMonedaPredeterminada);console.log(h.codigoMonedaSeleccinada);console.log(h.tipoCambio);if(!b.esOrdenRecuperada){if(c!=h.codigoMonedaPredeterminada&&",631861,56,"{g",637200,52,"b.Precio)/h.tipoCambio;g=parseFloat(g).toFixed(2);e",637200,52,"b.importe)/h.tipoCambio;f",637200,52,"b.precioConDescuento);d.totalDeImpuesto=d.totalDeImpuesto/h.tipoCambio;console.log(g,\"El precio es\")}}else{console.log(b);g",637200,52,"b.precioConDescuento);f",637200,52,"b.precioConDescuento);e=f*b.cantidad;console.log(g);console.log(f);h.tipoCambio",637200,52,"b.Precio)/f;console.log(h.tipoCambio);d",652043,57,"f,c)}",644927,36,637370,46,",c)",644960,47,"g,c);",645112,554,"e,c,d,b){var f=this,g=f.getMenu(),a=f.getMain(),j=b.get(\"action\"),k",639632,38,"f.titulo});switch(j){case\"orden\":f.actionOrden=\"crear\";a.getAt(2).setMasked(false);a.setActiveItem(2);f",645846,50,"f.idCliente);a",652461,56,"f",645967,56,"f.dameMonedaPredeterminada();a.getActiveItem().add(k);break;case\"visualizar\":if(g",646342,50,"f.actionOrden=\"actualizar\";var h",646424,80,"h.setParams({CardCode:f.idCliente});h.load();g",646550,37,"f.idCliente});f.dameMonedaPredeterminada();break}},dame",632628,36,"b=this,",646027,52,"d,c){Ext.Array.each(d,function(f,e,h){var g=f.get(\"Predeterminada\");if(g){b.codigoMonedaPredeterminada=f.get(\"CodigoMoneda\")+\" \";b.codigoMonedaSeleccinada=b.codigoMonedaPredeterminada}});b.actualizarTotales()}})",646607,1995,"e.getMain().getActiveItem().getMasked().setMessage(\"Enviando orden...\");e.getMain().getActiveItem().setMasked(true)",648601,623,",};Ext.Array.forEach(h,function(o,j,m){var k=o.get(\"moneda\"),n",637200,52,"o.get(\"Precio\")),l",637200,52,"o.get(\"precioConDescuento\"));if(k!=e.codigoMonedaPredeterminada){l*=e.tipoCambio;n/=e.tipoCambio;n=parseFloat(n).toFixed(2);console.log(\"moneda diferente \"+k+\"p \"+e.codigoMonedaPredeterminada+\"p\")}importe=l*o.get(\"cantidad\");d+=l*o.get(\"cantidad\")+o",649366,66,"o",649433,59,"o",649884,43,"recio\"]=n",649389,33,"lmacen\"]=o",649654,91,"k",649760,43,"importe",649900,99,"o.get(\"PorcentajeDescuento\"));f[\"Orden.Partidas[\"+j+\"].tipoCambio\"]=o.get(\"TipoCambio\"",650027,379,"console.log(f)}else{e.getMain().getActiveItem().setMasked(false",650861,39,650947,98,"l",651046,62,",k",639632,49,"g.getMain().getAt(2).setMasked(false",651167,407,"n",651575,52,"+\" \"",651627,44,"console.log(e);if(n",651675,130,"n.forEach(function(u,p){console.log(u,\"Item\");var r=u.Moneda+\" \",t=u.Importe/u.Cantidad,s=u.PrecioDescuento,q=u.Importe;n[p].cantidad=n[p].Cantidad;n[p]",637369,46,"q,g.codigoMonedaSeleccinada);n[p].totalDeImpuesto=n[p].TotalImpuesto;n[p].Imagen=\"http://\"+g.dirIP+n[p].Imagen;n[p].moneda=n[p].Moneda+\" \";n[p",652042,58,"s,g.codigoMonedaSeleccinada);n[p",652137,46,"t,g.codigoMonedaSeleccinada);n[p]",637084,36,"n[p].NombreArticulo,25,false);n[p].PorcentajeDescuento=n[p].PorcentajeDescuento+\"%\";n[p].esOrdenRecuperada=true;console.log(n[p])});if(g.codigoMonedaSeleccinada!=g.codigoMonedaPredeterminada){var m=Ext.getStore(\"Monedas\"),o=m.find(\"CodigoMoneda\",g.codigoMonedaSeleccinada.trim());console.log(m.getAt(o));g.estableceMonedaPredeterminada(m.getAt(o))}j.setData(n",652313,36,"n",652350,189,"k",652550,48,"k",652609,1416,"console.log(g.almacenes[c]",651167,76,654099,272,"l=e.Procesada,k={Disponible:\"Disponible\"",654417,76,"if(l){k.Disponible=",654385,32,"}else{k.Disponible=\"Error al obtener disponible\"}",654493,507,"parseFloat(f.Data[0]).toFixed(2)",655009,75,";e.ayudaAAgregar(a,\"cantidad",655082,75,"e.tipoCambio",655166,180,655373,127,"}",655802,88,655610,95,655726,895,"});a",635295,35,656702,315,657046,679,"u",657726,65,"r=o.down(\"formasdepagolist\").getSelection()[0].data,v=u.getMenu().down(\"cobranzalist\").getSelection()[0].data.action,n=u.aPagar-u.pagado,p=r",657820,32,"r.Codigo,e=r.TipoFormaPago,j=false,s=a.getValues(),d=s.numeroCheque,m=s.numeroTarjeta,c=s.banco,q=s.n",660608,38,658003,34,"r.PermiteCambio;console.log(v);if(v",658070,160,"s,function(w,z,y){if(z===null){j=true;u",658269,114,"u",658384,100,"u.sumaCobros(a,r,b);o.pop(2)}}else{u.sumaCobros(a,r",658531,1909,"r,b){var v=this,p=r",660463,32,"r.Codigo,f=r.TipoFormaPago,k=false,t=a.getValues(),e=t.NumeroCheque,o=t.NumeroTarjeta,d=t.Banco,q=t.NumeroAutorizacion,u",660627,53,"r.PermiteCambio,s",660703,158,"v",660862,77,"s",660940,135,"s",637200,52,661128,38,"v.pagado+=parseFloat(s);v",661191,1692,662898,162,"f",650505,43,663119,926,664072,36,664123,1626,"ferman.ddns.net:88",626839,49,671023,139,"du",671165,74,667168,98,666127,569,"ferman.ddns.net:88/\"+a}",668352,32,666749,101,"ferman.ddns.net",666863,748,"s",667612,37,"string\"},{name:\"esOrdenRecuperada\",type:\"boolean\"},{name:\"TipoCambio\",type:\"float",668351,33,667688,1236,"ferman.ddns.net",668937,852,"ferman.ddns.net",669802,1145,"ferman.ddns.net",670960,1191,"ferman.ddns.net",668937,37,672201,226,"ferman.ddns.net",670960,140,672578,987]