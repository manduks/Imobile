["function _d6108a552e0d9e4f40d729a9216efaacc0a4fee3",50,289262,"abel",437391,32,"abel",309664,37,"label\"",289291,299225,"textfield\",name:\"usuario\",placeHolder:\"Codigo de Usuario\",value:\"1",588588,55,"Contrase\ufffff\ufffffa\",value:\"12345",588668,6825,"itemId:\"cantidad\"},{xtype:\"numberfield\",name:\"P",595549,1009,"P",596559,1388,"T",597948,54,"Correo",598006,43,"ListaP",599940,59,"Limite",598118,3096,601224,59," \"ovalo\"></div",601268,66,"'<div class=\"container\"> ",601332,33,"div>\",\"</tpl>\",",601370,2861,"cobranza.Cobranza",596032,39,"cobranza",598293,112,"Cobranza de facturas\",action:\"cobranzaFacturas\"},{title:\"Anticipo de pedido\",action:\"anticipo\"},{title:\"Visualizar cobranzas\",action:\"visualizarCobranza",591472,34,"branza.Facturas",596032,39,"facturaslist\",requires:[],config:{itemTpl:['<div class=\"factura\">','<div> <p>N\ufffff\ufffffmero: <b>{id}</b> Saldo: <b>{saldo}</b></div> ",604057,83,"','<div style=\"font-size: 90%\"> <div><p>Fecha: <b>{fecha}</b> Vencimiento: <b>{vencimiento}</b> </div>',\"</div>\"].join(\"\"),store:\"Factur",604170,32,",mode:\"MULTI",596735,70,"facturas pendientes",596826,102,"cobranza.Facturas",597260,52,"facturas",598767,101,"facturaslist\",flex:5},{xtype:\"button\",text:\"Aplicar pago\",ui:\"confirm\",itemId:\"aplicarPago\",margin:10",590991,33,"branza.FormasDePago",596032,39,"formasdepago",598293,112,"Efectivo\",action:\"efectivo\"},{title:\"Tarjeta de Cr\ufffff\ufffffdito\",action:\"credito\"},{title:\"Tarjeta de Regalo\",action:\"regalo",591472,34,"branza.TotalAPagar",601616,51,"totalapagarlist\",config:{itemCls:\"factura\",itemTpl:\"{tipo}: <b>{monto}</b>\",store:\"Total",601742,32,"cobranza.Totales",593084,40,"totales",596985,33,597045,32,"A cobrar\",flex:1,itemId:\"aCobrar\",style:{background:\"black\",color:\"yellow\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\",\"vertical-align\":\"middle\"}},{xtype:\"container\",html:\"Pagado\",flex:1,itemId:\"pagado\",style:{background:\"black\",color:\"green\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\"}},{xtype:\"container\",html:\"Pendiente\",flex:1,itemId:\"pendiente\",style:{background:\"black\",color:\"red\",\"margin-righ\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\"}",590991,33,"branza.TotalAPagar",597260,52,"totalapagar",598767,94,597426,33,"totalapagarlist\",flex:5},{xtype:\"totalescontainer\",flex:1},{xtype:\"button\",text:\"Terminar\",ui:\"confirm\",margin:10",597215,38,"Transaccio",596031,40,"transaccion",589625,45,"useSimpleItems:true,itemTpl:\"Folio: {folio} <br> Tipo de transacci\ufffff\ufffffn: {transaccion} <br> Cliente: {cliente}\",store:\"Transacciones\"",590795,46,"fit",590845,66,"transaccion",590164,96,604231,205,"CodigoUsuario:undefined,CodigoSociedad:undefined,CodigoDispositivo:undefined,Contrasenia:undefined,Token:undefined,direccionEntrega:undefined,direccionFiscal:undefined,dirIP:\"25.15.241.121:88\"",604435,286,",totales:\"totalescontainer\",listaFacturas:\"facturaslist",604720,194,",back:\"onBack\"},menu:{back:\"onBackMenu\"}}},onLoginUser:function(c){var b=this,a=c.getValues();Ext.data.JsonP.request({url:\"http://\"+b.dirIP+\"",621692,39,"params:{CodigoUsuario:a.usuario,CodigoSociedad:\"001\",CodigoDispositivo:\"004\",Contrasenia:a.password},callbackKey:\"callback\",success:function(d){var e=d.Procesada;if(e){localStorage.setItem(\"Token\",d.Token);localStorage.setItem(\"CodigoUsuario\",d.Usuario.Codigo);localStorage.setItem(\"CodigoSociedad\",\"001\");localStorage.setItem(\"CodigoDispositivo\",\"004\");localStorage.setItem(\"Contrasenia\",d.Usuario.Contrasenia);b.getMain().setActiveItem(1);b.CodigoUsuario=localStorage.getItem(\"CodigoUsuario\");b.CodigoSociedad=localStorage.getItem(\"CodigoSociedad\");b.CodigoDispositivo=localStorage.getItem(\"CodigoDispositivo\");b.Contrasenia=localStorage.getItem(\"Contrasenia\");b.Token=localStorage.getItem(\"Token\")}else{Ext.Msg.alert(\"Datos Incorrectos\",d.Descripcion,Ext.emptyFn)}}}",604971,301,"onBack",610493,32,"ain().getActiveItem(),d=b",613857,32,";if(d.isXType(\"partidacontainer\")||d.isXType(\"clientecontainer\")||d.isXType(\"editarpedidoform\")){b.getActiveItem().setActiveItem(0);",613919,58,"BackMenu:function(){var b=this,a=Ext.getStore(\"Clientes\"),c={CodigoUsuario:b.CodigoUsuario,CodigoSociedad:b.CodigoSociedad,CodigoDispositivo:b.CodigoDispositivo,Token:b.Token};a.getProxy().setUrl(\"http://\"+b.dirIP+\"/iMobile/COK1_CL_Socio/ObtenerListaSociosiMobile\");a.setParams(c);a.load()",604368,35,605325,817,"opcion:undefined,aPagar:0,pagado:0,pendiente:0",606141,362,"agregarproductosform #cantidad\":{keyup:\"actualizaCantidad",606542,138,"Cliente",606725,625,"clientecontainer #guardar\":{tap:\"guardaDatosDeCliente",607346,142,",cobranzalist:{itemtap:\"muestraFacturasPendientes\"},\"facturascontainer #aplicarPago\":{tap:\"aplicaPago\"},formasdepagolist:{itemtap:\"muestraCobranza\"},transaccionlist:{itemtap:\"onSeleccionarTransaccion\"}}},onSelectMenu:function(b,c,f,a,d){var e=this,b=e.getMenu();e.opcion=a.get(\"action\");switch(e.opcion",607575,77,"e",607653,123,"e",607777,37,"case\"cobranza\":e.ponParametros(\"Clientes\",e.CodigoUsuario,e.CodigoSociedad,e.CodigoDispositivo,\"\",e.Token);b.push({xtype:\"clienteslist\",opcion:e.opcion",607909,43,"e",607953,329,613812,44,"d.entrega){d.direccionEntrega=b.data.Colonia;d",608316,81,"d.direccionFiscal=b.data.Ciudad;d",608414,68,"a.pop()},seleccionaMoneda:function(e,c,f,b",613810,43,"moneda=b.data.NombreMoneda,tabOpciones=d.getOpcionesOrden(),form=tabOpciones.down(\"editarpedidoform\");form.setValues({NombreMoneda:moneda});a.pop(",608628,96,"b.CodigoUsuario,b.CodigoSociedad,b.CodigoDispositivo,\"\",b.Token",608762,383,"f,d",609656,45,609903,46,";if(f.xtype==\"clientecontainer\"){a.setText(\"< Back\").show();var c=Ext.getStore(\"Clientes\"),g={CodigoUsuario:e.CodigoUsuario,CodigoSociedad:e.CodigoSociedad,CodigoDispositivo:e.CodigoDispositivo,Criterio:e.idCliente,Token:e.Token};c.getProxy().setUrl(\"http://\"+e.dirIP+\"/iMobile/COK1_CL_Socio/ObtenerSocioiMobile\");c.setParams(g);c.load({callback:function(k,l){var m=f.down(\"clienteform\"),j=Ext.getStore(\"Direcciones\");m.setValues(k[0].data);j.setData(k[0].data.Direcciones);j.clearFilter();j.filter(\"TipoDireccion\",\"B\");e.direccionEntrega=j.getAt(0).data.Calle;j.clearFilter();j.filter(\"TipoDireccion\",\"S\");e.direccionFiscal=j.getAt(0).data.Calle}})}if(f.xtype==\"editarpedidoform\"){f.setValues(e.traeCliente());a.setText(\"< Back\").show()}if(f.xtype==\"partidacontainer\"){a.setText(\"Agregar\").show(",609492,702,"){var b",610206,34,"b.listarFavoritos();b",610107,47,610308,46,"e,c,d){e.set(\"color\",b",610376,229,"l,e,g,m,h=this,m=Ext.getStore(\"Ordenes\"),b=h.getMain().getActiveItem(),a=c.up(\"agregarproductosform\"),l=a.getValues(),e=l.NombreArticulo,g=l.cantidad,f=l.importe",610758,32,"g)){h",610795,130,"k=l.CodigoArticulo,d=m.find(\"CodigoArticulo\",k);if(d==-1){m.add(l)}else{var j=m.getAt(d);j.set(\"cantidad\",g);j.set(\"NombreArticulo\",e);j.set(\"importe\",f)}b.pop(",609901,56,611122,423,611576,37,611644,67,611726,86,"DesplegarEnPanel\",c)",611918,78,"g,d,h,b,e){var f=this,a=f.getMenu(),c=b",612035,32,"b.get(\"CodigoSocio\");f.titulo=f.idCliente+\" \"+c;switch(g.opcion){case\"venta\":a",612116,50,"break;case\"cobranza\":a.push({xtype:\"cobranzalist\",title:f.titulo});break}",612166,53,"e,c,h,b",613810,42,",g=b.data,f",612300,71,"a.getActiveItem().setValues({precioConDescuento:g.Precio-g.descuento,});f=a.getActiveItem().getValues();a.getActiveItem().setValues({importe:f.precioConDescuento*g.cantidad});if(e",612375,142,"actualizaCantidad:function(d",608655,42,",c=a.getActiveItem().getValues();a.getActiveItem().setValues({importe:c.precioConDescuento*newValue})},guardaDatosDeCliente:function(a){var b=this;b.mandaMensaje(\"C\ufffff\ufffffdigos de direcci\ufffff\ufffffn\",\"Entrega: \"+b.direccionEntrega+\"\\nFiscal: \"+b.direccionFiscal)},onOpcionesCliente:function(l,c,d,b,f){var g=this,h=g.getMenu(),k=b.get(\"action\");switch(k",612604,181,";case\"visualizar\":var j=Ext.getStore(\"Transacciones\");var a={CodigoUsuario:g.CodigoUsuario,CodigoSociedad:g.CodigoSociedad,CodigoDispositivo:g.CodigoDispositivo,Token:g.Token,CardCode:g.idCliente};j.setParams(a);j.load();h.push({xtype:\"transaccionlist\"}",612778,33,"c,b,f,a,d,g){",613264,312,"b",613810,42,",c=b.up(\"navigationorden\"),e=",613856,33,";console.log(e.xtype);d.ponParametros(\"Productos\",d.CodigoUsuario,d.CodigoSociedad,d.CodigoDispositivo,\"\",d.Token);if(e",613889,32,613689,85,"else{c.getActiveItem().setActiveItem(0)}",613773,35,613810,42,",e=",613856,33,";if(e.isXType(\"clientecontainer\")||e.isXType(\"editarpedidoform",613915,258,",Elementos:10",614173,93,";a.getMain().getActiveItem().pop();a.onBackMenu()},muestraFacturasPendiente",608644,32,"enu();a.push({xtype:\"facturascontainer\",title:b.titulo})},aplicaPago:function(){var e=this,b=e.getMenu(),c,d=0,a=b.getActiveItem().down(\"facturaslist\").getSelection();for(c=0;c<a.length;c++){d+=a[c].data.saldo}e.aPagar=d;b.push({xtype:\"formasdepagolist\",title:e.titulo})},muestraCobranza:function(e,c,f,b){var d=this,a=d.getMenu(),g=b.get(\"title\");a.push({xtype:\"totalapagarcontainer\",title:d.titulo});Ext.Msg.prompt(g,\"Ingrese el monto a pagar:\",function(k,j){if(k==\"ok\"){var h=Ext.getStore(\"Totales\");h.add({tipo:g,monto:j});d.pagado=0;console.log(d.pagado);h.each(function(l){d.pagado+=parseFloat(l.get(\"monto\"))});d.getTotales().down(\"#pagado\").setItems({xtype:\"container\",html:d.pagado});d.getTotales().down(\"#pendiente\").setItems({xtype:\"container\",html:d.aPagar-d.pagado})}else{}});d.getTotales().down(\"#aCobrar\").setItems({xtype:\"container\",html:d.aPagar});d.getTotales().down(\"#pagado\").setItems({xtype:\"container\",html:d.pagado});d.getTotales().down(\"#pendiente\").setItems({xtype:\"container\",html:d.aPagar-d.pagado})},onSeleccionarTransacc",361011,33,"Menu();a.push({xtype:\"editarpedidoform\"})",605388,32,614298,993,"Telefono\",type:\"string\"},{name:\"Correo\",type:\"string\"},{name:\"ListaPrecios\",type:\"string\"},{name:\"Limite",615391,202,"proxy:{url:\"http://25.15.241.121:88/iMobile/COK1_CL_Socio/ObtenerListaSociosiMobile\",type:\"jsonp",621729,59,"Data\"}}",618582,205,",defaultValue:1},{name:\"P",618797,268,"DesplegarEnPanel\",type:\"boolean\",",619107,216,"muy, muy largo\",DesplegarEnPanel:true,Precio:3.5,descuento:",619415,125,"DesplegarEnPanel:false,Precio:13.5,descuento:",619614,125,"DesplegarEnPanel:true,Precio:13.5,descuento:",619812,123,"DesplegarEnPanel:false,Precio:11.87,descuento:",620010,124,"DesplegarEnPanel:true,Precio:17.7,descuento:",620207,125,"DesplegarEnPanel:true,Precio:16.5,descuento:0.",620207,72,"]},",620479,232,"float\"},{name:\"P",618797,260,620985,672,621552,41,621836,371,"proxy:{url:\"http://25.15.241.121:88/iMobile/COK1_CL_Catalogos/ObtenerListaMonedasiMobile\",type:\"jsonp",621729,59,"Data\"}}}});Ext.define(\"Imobile.model.Factura",621136,71,"saldo\",type:\"float\"},{name:\"fecha\",type:\"string\"},{name:\"vencimiento",621535,47,"Factura",621022,55,"Factura\",autoLoad:true,data:[{id:\"0001\",fecha:\"23-May-2014\",saldo:10000,vencimiento:\"12-Dic-2014\"},{id:\"0002\",fecha:\"12-Abr-2014\",saldo:20000,vencimiento:\"14-Jun-2014\"},{id:\"0003\",fecha:\"28-Ene-2014\",saldo:30000,vencimiento:\"23-Jul-2014\"},{id:\"0004\",fecha:\"30-Mar-2013\",saldo:40000,vencimiento:\"13-Ago-2014\"},{id:\"0005\",fecha:\"23-Oct-2013\",saldo:50000,vencimiento:\"15-Dic-2014",615083,33,"Total",621136,71,"tipo\",type:\"string\"},{name:\"monto\",type:\"double",619135,33,"Tot",621840,58,"Total\",autoLoad:true,}});Ext.define(\"Imobile.model.Transaccio",620512,78,618735,32,618729,59,"]}});Ext.define(\"Imobile.store.Transaccio",621020,57,"Transaccion\",autoLoad:true,proxy:{url:\"http://25.15.241.121:88/iMobile/COK1_CL_Consultas/RegresarOrdenVentaiMobile2\",type:\"jsonp",621729,59,"Data\"}}",622459,145,",\"Facturas\",\"Totales\",\"Transaccione",622602,766]