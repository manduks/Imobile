["function _a2eaa3d59d19c153108b520cce28f3239285b888",50,289262,"abel",437391,32,"abel",309664,37,"label\"",289291,299225,"textfield\",name:\"usuario\",placeHolder:\"Codigo de Usuario\",value:\"1",588588,55,"Contrase\ufffff\ufffffa\",value:\"12345",588668,80,"itemId:\"login",588746,731,"Cls:\"logo",589531,5558,598891,65,595154,236,"NombreArticulo",595401,245,595647,554,"15",596203,159,"'<p style=\"margin: 0px;\">{CodigoArticulo}</p>','<p style=\"margin: 0px;\"><b>{NombreArticulo}</b></p>','<p style=\"margin: 0px; ",596419,65,"'<p style=\"margin: 0px;\">Precio: {precio}</p>','<p style=\"margin: 0px;\">Disc: {descuento}</p>','<p style=\"margin: 0px;\" class=\"total-product\"><b>Total: {importe}</b></p>'",596569,140,601727,66,601360,35,601104,83,"style:{background:\"white\"}",601186,209,596744,233,"ordencontainer",601349,34,597037,413,"T",597451,54,"Correo",597509,43,"L",599447,64,"Limite",597621,1613,599235,64,599300,127,597535,77,599511,473,599986,801," \"ovalo\"></div",600772,66,"'<div class=\"container\"> ",600836,33,600860,244,601395,398,601359,52,596751,52,601898,1619,"Cls:\"logo",603548,501,"cobranza.Cobranza",596060,39,"cobranza",600381,112,"Cobranza de facturas\",action:\"cobranzaFacturas\"},{title:\"Anticipo de pedido\",action:\"anticipo\"},{title:\"Visualizar cobranzas\",action:\"visualizarCobranza",602672,32,"cobranza.Factur",603696,34,"xtype:\"facturaslist\",requires:[],config:{itemTpl:['<div class=\"factura\">','<div> <p>N\ufffff\ufffffmero: <b>{id}</b> Saldo: <b>{saldo}</b></div> ",603019,83,"','<div style=\"font-size: 90%\"> <div><p>Fecha: <b>{fecha}</b> Vencimiento: <b>{vencimiento}</b> </div>',\"</div>\"].join(\"\"),store:\"Factur",603988,32,",mode:\"MULTI\"",589885,69,"facturas pendientes</div>'}",601727,66,"});Ext.define(\"Imobile.view.cobranza.Facturas",596751,52,"facturas",598270,101,"facturaslist\",flex:5},{xtype:\"button\",text:\"Aplicar pago\",ui:\"confirm\",itemId:\"aplicarPago\",margin:10",591503,33,"branza.FormasDePago",596060,39,"formasdepago",600381,112,"Efectivo\",action:\"efectivo\"},{title:\"Tarjeta de Cr\ufffff\ufffffdito\",action:\"credito\"},{title:\"Tarjeta de Regalo\",action:\"regalo",602672,32,"cobranza.TotalAPagar",596060,32,"requires:[],xtype:\"totalapagarlist\",config:{itemCls:\"factura\",itemTpl:\"{tipo}: <b>{monto}</b>\",store:\"Total",601537,32,"cobranza.Totales",593599,40,"totales",601154,65,"A cobrar\",flex:1,itemId:\"aCobrar\",style:{background:\"black\",color:\"yellow\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\",\"vertical-align\":\"middle\"}},{xtype:\"container\",html:\"Pagado\",flex:1,itemId:\"pagado\",style:{background:\"black\",color:\"green\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\"}},{xtype:\"container\",html:\"Pendiente\",flex:1,itemId:\"pendiente\",style:{background:\"black\",color:\"red\",\"margin-righ\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\"}",591503,33,"branza.TotalAPaga",592528,34,"requires:[],xtype:\"totalapaga",592576,73,"layout:\"vbox\"",596908,42,"totalapagarlist\",flex:5},{xtype:\"totalescontainer\",flex:0.5},{xtype:\"button\",text:\"Terminar\",ui:\"confirm\",margin:10",601357,38,"Transaccio",596059,40,"transaccion",589655,45,"useSimpleItems:true,itemTpl:\"Folio: {folio} <br> Tipo de transacci\ufffff\ufffffn: {transaccion} <br> Cliente: {cliente}\",store:\"Transacciones",594575,39,590110,77,"transaccion...\"",590960,92,604049,205,"CodigoUsuario:undefined,CodigoSociedad:undefined,CodigoDispositivo:undefined,Contrasenia:undefined,Token:undefined",604253,37,",menu:\"menu\",opcionesOrden:\"opcionesorden\",opcionCliente:\"opcionclientelist\",seleccionadorProFav:\"seleccionadorprofav\",direcciones:\"direccionescontainer\",productosOrden:\"productosorden\",productosView:\"productosview\",navigationOrden:\"navigationorden\",totales:\"totalescontainer\",listaFacturas:\"facturaslist\"",604290,43,",\"menu dataview\":{itemtap:\"onSelectMenu\"},\"main navigationview #agregarProductos\":{tap:\"onAgregarPartida\"},navigationorden:{back:\"onBack\"},menu:{back:\"onBackMenu\"}}},onLoginUser:function(c){var b=this,a=c.getValues();Ext.data.JsonP.request({url:\"http://192.168.15.9:88/iMobile/COK1_CL_UsuarioiMobile/Login\",params:{CodigoUsuario:a.usuario,CodigoSociedad:\"001\",CodigoDispositivo:\"004\",Contrasenia:a.password},callbackKey:\"callback\",success:function(d){var e=d.Procesada;if(e){localStorage.setItem(\"Token\",d.Token);localStorage.setItem(\"CodigoUsuario\",d.Usuario.Codigo);localStorage.setItem(\"CodigoSociedad\",\"001\");localStorage.setItem(\"CodigoDispositivo\",\"004\");localStorage.setItem(\"Contrasenia\",d.Usuario.Contrasenia);b.getMain().setActiveItem(1);b.CodigoUsuario=localStorage.getItem(\"CodigoUsuario\");b.CodigoSociedad=localStorage.getItem(\"CodigoSociedad\");b.CodigoDispositivo=localStorage.getItem(\"CodigoDispositivo\");b.Contrasenia=localStorage.getItem(\"Contrasenia\");b.Token=localStorage.getItem(\"Token\")}else{Ext.Msg.alert(\"Datos Incorrectos\",d.Descripcion,Ext.emptyFn)}}})},onSelectMenu:Ext.emptyFn,aleatorio:function(a,d){var c=d-a,b=Math.random()*c,b=Math.floor(b);return parseInt(a)+b},dameColorAleatorio:function(){var c=new Array(\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"),a=\"#\",b;for(i=0;i<6;i++){b=this.aleatorio(0,c.length);a+=c[b]}return a},onBack",612140,32,"ain().getActiveItem(),d=b.getActiveItem().getActiveItem();console.log(d.isXType(\"clientecontainer\"));if(d.isXType(\"partidacontainer\")||d.isXType(\"clientecontainer\")||d.isXType(\"editarpedidoform\")){b.getActiveItem().setActiveItem(0);a",611536,46,"show()}},onBackMenu:function(){var b=this,a=Ext.getStore(\"Clientes\"),c={CodigoUsuario:b.CodigoUsuario,CodigoSociedad:b.CodigoSociedad,CodigoDispositivo:b.CodigoDispositivo,Token:b.Token};a.getProxy().setUrl(\"http://192.168.15.9",618103,44,"iMobile\");a.setParams(c);a.load",606223,837,"titulo:undefined,opcion:undefined,aPagar:0,pagado:0,pendiente:0",607059,362,607464,134,"Cliente",607643,360,608050,179,",itemtap:\"onAgregarProducto\"},\"opcionesorden #terminar\":{activate:\"onTerminarOrden\"",608258,141,",cobranzalist:{itemtap:\"muestraFacturasPendientes\"},\"facturascontainer #aplicarPago\":{tap:\"aplicaPago\"},formasdepagolist:{itemtap:\"muestraCobranza\"},transaccionlist:{itemtap:\"onSeleccionarTransaccion\"}}},onSelectMenu:function(b,c,f,a,d){var e=this,b=e.getMenu();e.opcion=a.get(\"action\");switch(e.opcion",608486,77,"e",608564,123,"e",608688,37,"case\"cobranza\":e.ponParametros(\"Clientes\",e.CodigoUsuario,e.CodigoSociedad,e.CodigoDispositivo,\"\",e.Token);b.push({xtype:\"clienteslist\",opcion:e.opcion",608820,43,"e",608864,557,"f,c,g,a){var d=a.data.NombreMoneda,b=this.getOpcionesOrden(),e=b.down(\"editarpedidoform\");e.setValues({NombreMoneda:d",609564,97,"b.CodigoUsuario,b.CodigoSociedad,b.CodigoDispositivo,\"\",b.Token",609699,111,"e,c,f,a){var d=this,b=Ext.getStore(\"Ordenes\")",613064,35,609864,83,"h){if(h==\"yes\"){var g=b.find(\"CodigoArticulo\",a.data.CodigoArticulo);b.removeAt(g)}})},cambiaItem:function(g,e,c",616269,43,"a",611536,46,"show();if(e.xtype==\"clientecontainer\"){var b=Ext.getStore(\"Clientes\"),f={CodigoUsuario:d.CodigoUsuario,CodigoSociedad:d.CodigoSociedad,CodigoDispositivo:d.CodigoDispositivo,Criterio:d.idCliente,Token:d.Token};b.getProxy().setUrl(\"http://192.168.15.9",618103,33,"SocioiMobile\");b.setParams(f);b.load({callback:function(j,k){var l=e.down(\"clienteform\"),h=Ext.getStore(\"Direcciones\");h.setData(j[0].data.Direcciones);l.setValues(j[0].data)}})}if(e.xtype==\"editarpedidoform\"){e.setValues(d",610318,45,"b=this,d=Ext.getStore(\"Clientes\"),c=d.find(\"CodigoSocio\",b.idCliente),a=d.getAt(c).data;return a},muestraDirecciones:function(f,d,g,c){var e=this,b=e.getMain().getActiveItem(),a=Ext.getStore(\"Direcciones\");a.clearFilter();if(c.data.action==\"entrega\"){a.filter(\"TipoDireccion\",\"B\");e.entrega=true}else{a.filter(\"TipoDireccion\",\"S\");e.entrega=false}b",611500,32,"b",611536,496,612047,196,"c){var a,k,e,f,l,g=this,b=g.getMain().getActiveItem();a=c.up(\"agregarproductosform\");k=a.getValues();e=k.NombreArticulo;f=k.cantidad;var l=Ext.getStore(\"Ordenes\");if(Ext.isEmpty(e)||Ext.isEmpty(f)){g",612538,126,"var j=k.CodigoArticulo,d=l.find(\"CodigoArticulo\",j);if(d==-1){l.add(k)}else{var h=l.getAt(d);h.set(\"cantidad\",f);h.set(\"NombreArticulo\",e)}b.pop();b",611536,53,"},muestraProductos:function(){",613322,123,"Ext.getStore(\"Ordenes\").load()},busca:function(a){},buscaCliente:function(a){",613895,169,"g,c,j,a,h,d){var f=this",614118,38,"if(a.get(\"favorite\")){var b=f",614216,36,"b)}},lista:function(c",614296,33,",b=this;",614338,36,"c",614444,105,"g,d,h,b,e){var f=this,a=f.getMenu(),c=b",614588,32,"b.get(\"CodigoSocio\");f.titulo=f.idCliente+\" \"+c;switch(g.opcion){case\"venta\":a",614642,41,"titulo});break;case\"cobranza\":a.push({xtype:\"cobranzalist\",title:f.titulo});break}",614701,53,"e,c,d,b){var f=this,g=f.getMain().getActiveItem",615263,65,"var j=Ext.getStore(\"Productos\"),a={CodigoUsuario:f.CodigoUsuario,CodigoSociedad:f.CodigoSociedad,CodigoDispositivo:f.CodigoDispositivo,Criterio:b.data.CodigoArticulo,Token:f.Token};j.getProxy().setUrl(\"http://192.168.15.9:88",618933,33,"ArticuloiMobile\");j.setParams(a);j.load({callback:function(k,l){var m=k[0].data;g.getActiveItem().setValues(m)}});if(e.isXType(\"ordenlist\")){g.getActiveItem().down(\"fieldset\").setTitle(\"Editar producto\");g",611536,53,"},onOpcionesCliente:function(l,c,d,b,f){var g=this,h=g.getMenu(),k=b.get(\"action\");switch(k",615006,99,"g.titulo",615128,74,";case\"visualizar\":var j=Ext.getStore(\"Transacciones\");var a={CodigoUsuario:g.CodigoUsuario,CodigoSociedad:g.CodigoSociedad,CodigoDispositivo:g.CodigoDispositivo,Token:g.Token,CardCode:g.idCliente};j.setParams(a);j.load();h.push({xtype:\"transaccionlist\"}",615195,33,"c,b,f,a,d,g){},onEliminarOrden:function(c,d){var b=this,a=Ext.getStore(\"Ordenes\")",615723,147,"a.removeAll();b",615953,33,"d",615987,119,"b.CodigoUsuario,b.CodigoSociedad,b.CodigoDispositivo,\"\",b.Token",616144,124,"g",616269,42,",f=c.getActiveItem().getActiveItem()",616510,96,"h,c){var b=Ext.getStore(d),g",616639,67,"h,Token:c,Elementos:10};b.setParams(g);b.load()},onTerminar",616517,58,"muestraFacturasPendiente",609581,32,"enu();a.push({xtype:\"facturascontainer\",title:b.titulo})},aplicaPago:function(){var e=this,b=e.getMenu(),c,d=0,a=b.getActiveItem().down(\"facturaslist\").getSelection();for(c=0;c<a.length;c++){d+=a[c].data.saldo}e.aPagar=d;b.push({xtype:\"formasdepagolist\",title:e.titulo})},muestraCobranza:function(e,c,f,b){var d=this,a=d.getMenu(),g=b.get(\"title\");a.push({xtype:\"totalapagarcontainer\",title:d.titulo});Ext.Msg.prompt(g,\"Ingrese el monto a pagar:\",function(k,j){if(k==\"ok\"){var h=Ext.getStore(\"Totales\");h.add({tipo:g,monto:j});d.pagado=0;console.log(d.pagado);h.each(function(l){d.pagado+=parseFloat(l.get(\"monto\"))});d.getTotales().down(\"#pagado\").setItems({xtype:\"container\",html:d.pagado});d.getTotales().down(\"#pendiente\").setItems({xtype:\"container\",html:d.aPagar-d.pagado})}else{}});d.getTotales().down(\"#aCobrar\").setItems({xtype:\"container\",html:d.aPagar});d.getTotales().down(\"#pagado\").setItems({xtype:\"container\",html:d.pagado});d.getTotales().down(\"#pendiente\").setItems({xtype:\"container\",html:d.aPagar-d.pagado})},onSeleccionarTransacc",361011,33,"Menu();a.push({xtype:\"editarpedidoform\"}",616744,1026,"Telefono\",type:\"string\"},{name:\"Correo\",type:\"string\"},{name:\"ListaPrecios\",type:\"string\"},{name:\"Limite",617870,232,"9",618103,44,"i",620705,93,618234,460,"floa",618696,82,620510,32,618811,117,"9",618929,51,"i",620705,93,619067,98,617673,35,618335,359,"float",620509,33,619574,402,"string",619979,233,620107,41,620254,371,"data:[{CodigoMoneda:\"$\",NombreMoneda:\"Peso Mexicano\"},{CodigoMoneda:\"USD\",NombreMoneda:\"D\ufffff\uffffflar Americano\"},{CodigoMoneda:\"JPN\",NombreMoneda:\"Yen Japon\ufffff\ufffffs\"},{CodigoMoneda:\"\ufffff\ufffff\ufffff\",NombreMoneda:\"Euro\"},{CodigoMoneda:\"Q\",NombreMoneda:\"Quetzal Guatemalteco",617562,33,"Factura",619694,71,"saldo\",type:\"float\"},{name:\"fecha\",type:\"string\"},{name:\"vencimiento",620495,47,"Factura",619580,55,"Factura\",autoLoad:true,data:[{id:\"0001\",fecha:\"23-May-2014\",saldo:10000,vencimiento:\"12-Dic-2014\"},{id:\"0002\",fecha:\"12-Abr-2014\",saldo:20000,vencimiento:\"14-Jun-2014\"},{id:\"0003\",fecha:\"28-Ene-2014\",saldo:30000,vencimiento:\"23-Jul-2014\"},{id:\"0004\",fecha:\"30-Mar-2013\",saldo:40000,vencimiento:\"13-Ago-2014\"},{id:\"0005\",fecha:\"23-Oct-2013\",saldo:50000,vencimiento:\"15-Dic-2014",617562,33,"Total",619694,71,"tipo\",type:\"string\"},{name:\"monto\",type:\"double",620509,33,"Total",619579,56,"Total\",autoL",619647,38,"Transa",619689,76,618335,97,"]}});Ext.define(\"Imobile.store.Transa",620141,61,"Transaccion",618056,46,"9:88/iMobile/COK1_CL_Consultas/RegresarOrdenVentaiMobile2",620711,224,",\"Facturas\",\"Totales\",\"Transaccione",620933,766]