["function _6f9a9d31210bc22949febbe7a89dfc536ee39f3b(){};",44,289257,"abel",437380,32,"ab",531823,39,"label\"",289280,299225,"textfield\",name:\"usuario\",placeHolder:\"Codigo de Usuario\",value:\"1",588577,55,"Contrase\ufffff\ufffffa\",value:\"12345",588657,80,"itemId:\"login",588735,6298,599146,65,595098,236,"NombreArticulo",595345,119,"itemId:\"cantidad\"},{xtype:\"numberfield\",name:\"P",595520,70,599792,67,595658,648,"'<p style=\"margin: 0px;\">{CodigoArticulo}</p>','<p style=\"margin: 0px;\"><b>{NombreArticulo}</b></p>','<p style=\"margin: 0px; ",596368,65,"'<p style=\"margin: 0px;\">Precio: {Precio}</p>','<p style=\"margin: 0px;\">Disc: {descuento}</p>','<p style=\"margin: 0px;\" class=\"total-product\"><b>Total: {importe}</b></p>'",596518,140,590703,66,596976,35,"Orden",591503,40,596738,967,"T",597706,54,"Correo",597764,43,"ListaP",597808,59,"Limite",597876,54,"S",597931,1558,"},{xtype:\"numberfield\",name:\"LimiteCredito\",label:\"L\ufffff\ufffffmite de Cr\ufffff\ufffffdito",597839,37,599591,61,"Saldo\",label:\"Saldo\"},{xtype:\"textfield\",name:\"ListaP",597808,59,599766,473,600241,791,"tpl if=\"cantidad &gt; 0\">','<div class= \"ovalo\" {cantidad}></div>',\"</tpl>\"",601029,60,"\">','<div class=\"container\"> ",601090,33,"div>\",\"</tpl>\",",601128,628,602000,45,601802,1678,"Cls:\"logo",603511,501,"cobranza.Cobranza",589552,40,"obranza",600636,112,"Cobranza de facturas\",action:\"cobranzaFacturas\"},{title:\"Anticipo de pedido\",action:\"anticipo\"},{title:\"Visualizar cobranzas\",action:\"visualizarCobranza",600832,32,"cobranza.Factura",598000,40,"facturaslist\",requires:[],config:{itemTpl:['<div class=\"factura\">','<div> <p>N\ufffff\ufffffmero: <b>{id}</b> Saldo: <b>{saldo}</b></div> ",603838,83,"','<div style=\"font-size: 90%\"> <div><p>Fecha: <b>{fecha}</b> Vencimiento: <b>{vencimiento}</b> </div>',\"</div>\"].join(\"\"),store:\"Factur",603951,32,",mode:\"MULTI",596559,70,"facturas pendientes</div>'}",590703,66,"});Ext.define(\"Imobile.view.cobranza.Facturas",591503,33,"requires:[],xtype:\"facturas",598525,101,"facturaslist\",flex:5},{xtype:\"button\",text:\"Aplicar pago\",ui:\"confirm\",itemId:\"aplicarPago\",margin:10",589504,32,"obranza.FormasDePago",589552,39,"formasdepago",600636,112,"Efectivo\",action:\"efectivo\"},{title:\"Tarjeta de Cr\ufffff\ufffffdito\",action:\"credito\"},{title:\"Tarjeta de Regalo\",action:\"regalo",600832,32,"cobranza.TotalAPagar",589552,32,"requires:[],xtype:\"totalapagarlist\",config:{itemCls:\"factura\",itemTpl:\"{tipo}: <b>{monto}</b>\",store:\"Total",601500,32,"cobranza.Totales",591503,40,"totales",596743,33,596803,32,"A cobrar\",flex:1,itemId:\"aCobrar\",style:{background:\"black\",color:\"yellow\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\",\"vertical-align\":\"middle\"}},{xtype:\"container\",html:\"Pagado\",flex:1,itemId:\"pagado\",style:{background:\"black\",color:\"green\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\"}},{xtype:\"container\",html:\"Pendiente\",flex:1,itemId:\"pendiente\",style:{background:\"black\",color:\"red\",\"margin-righ\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\"}",589504,32,"obranza.TotalAPag",591501,35,"requires:[],xtype:\"totalapag",591552,74,"layout:\"vbox\"",597175,42,"totalapagarlist\",flex:5},{xtype:\"totalescontainer\",flex:1},{xtype:\"button\",text:\"Terminar\",ui:\"confirm\",margin:10",597952,38,"Transaccion",589552,39,"transaccion",589599,45,"useSimpleItems:true,itemTpl:\"Folio: {folio} <br> Tipo de transacci\ufffff\ufffffn: {transaccion} <br> Cliente: {cliente}\",store:\"Transacciones\"",590016,115,"transaccion",590138,96,604012,205,"CodigoUsuario:undefined,CodigoSociedad:undefined,CodigoDispositivo:undefined,Contrasenia:undefined,Token:undefined,direccionEntrega:undefined,direccionFiscal:undefined,dirIP:\"25.15.241.121:88\"",604216,37,",menu:\"menu\",opcionesOrden:\"opcionesorden\",opcionCliente:\"opcionclientelist\",seleccionadorProFav:\"seleccionadorprofav\",direcciones:\"direccionescontainer\",productosOrden:\"productosorden\",productosView:\"productosview\",navigationOrden:\"navigationorden\",totales:\"totalescontainer\",listaFacturas:\"facturaslist\"",604253,43,",\"menu dataview\":{itemtap:\"onSelectMenu\"},\"main navigationview #agregarProductos\":{tap:\"onAgregarPartida\"},navigationorden:{pop:\"onPopNavigationOrden\",back:\"onBack\"},menu:{back:\"onBackMenu\"}}},onLoginUser:function(c){var b=this,a=c.getValues();Ext.data.JsonP.request({url:\"http://\"+b.dirIP+\"",620648,39,"params:{CodigoUsuario:a.usuario,CodigoSociedad:\"001\",CodigoDispositivo:\"004\",Contrasenia:a.password},callbackKey:\"callback\",success:function(d){var e=d.Procesada;if(e){localStorage.setItem(\"Token\",d.Token);localStorage.setItem(\"CodigoUsuario\",d.Usuario.Codigo);localStorage.setItem(\"CodigoSociedad\",\"001\");localStorage.setItem(\"CodigoDispositivo\",\"004\");localStorage.setItem(\"Contrasenia\",d.Usuario.Contrasenia);b.getMain().setActiveItem(1);b.CodigoUsuario=localStorage.getItem(\"CodigoUsuario\");b.CodigoSociedad=localStorage.getItem(\"CodigoSociedad\");b.CodigoDispositivo=localStorage.getItem(\"CodigoDispositivo\");b.Contrasenia=localStorage.getItem(\"Contrasenia\");b.Token=localStorage.getItem(\"Token\")}else{Ext.Msg.alert(\"Datos Incorrectos\",d.Descripcion,Ext.emptyFn)}}})},onSelectMenu:Ext.emptyFn,aleatorio:function(a,d){var c=d-a,b=Math.random()*c,b=Math.floor(b);return parseInt(a)+b},dameColorAleatorio:function(){var c=new Array(\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"),a=\"#\",b;for(i=0;i<6;i++){b=this.aleatorio(0,c.length);a+=c[b]}return a},onBack:function(",609981,43,",d=b.getActiveItem().getActiveItem();if(d.isXType(\"partidacontainer\")||d.isXType(\"clientecontainer\")||d.isXType(\"editarpedidoform\")){b.getActiveItem().setActiveItem(0);",616430,58,"BackMenu:function(){var b=this,a=Ext.getStore(\"Clientes\"),c={CodigoUsuario:b.CodigoUsuario,CodigoSociedad:b.CodigoSociedad,CodigoDispositivo:b.CodigoDispositivo,Token:b.Token};a.getProxy().setUrl(\"http://\"+b.dirIP+\"",618148,41,"iMobile\");a.setParams(c);a.load",606186,837,"titulo:undefined,opcion:undefined,aPagar:0,pagado:0,pendiente:0",607022,362,"agregarproductosform #cantidad\":{change:\"actualizaCantidad",607423,138,"Cliente",607606,360,608013,179,",itemtap:\"onAgregarProducto",608191,59,"clientecontainer #guardar\":{tap:\"guardaDatosDeCliente",608246,142,",cobranzalist:{itemtap:\"muestraFacturasPendientes\"},\"facturascontainer #aplicarPago\":{tap:\"aplicaPago\"},formasdepagolist:{itemtap:\"muestraCobranza\"},transaccionlist:{itemtap:\"onSeleccionarTransaccion\"}}},onSelectMenu:function(b,c,f,a,d){var e=this,b=e.getMenu();e.opcion=a.get(\"action\");switch(e.opcion",608475,77,"e",608553,123,"e",608677,37,"case\"cobranza\":e.ponParametros(\"Clientes\",e.CodigoUsuario,e.CodigoSociedad,e.CodigoDispositivo,\"\",e.Token);b.push({xtype:\"clienteslist\",opcion:e.opcion",608809,43,"e",608853,329,616245,41,"if(d.entrega){d.direccionEntrega=b.data.Colonia;d",609216,81,"d.direccionFiscal=b.data.Ciudad;d",609314,68,"a.pop()},seleccionaMoneda:function(e,c,f,b",616243,43,"moneda=b.data.NombreMoneda,tabOpciones=d.getOpcionesOrden(),",609481,71,"moneda});a.pop(",609554,96,"b.CodigoUsuario,b.CodigoSociedad,b.CodigoDispositivo,\"\",b.Token",609688,111,"e,c,f,a){var d=this,b=Ext.getStore(\"Ordenes\")",613038,35,609853,83,"h){if(h==\"yes\"){var g=b.find(\"CodigoArticulo\",a.data.CodigoArticulo);b.removeAt(g)}})},cambiaItem:function(h,f,d){var e=this,b=e.getMain().getActiveItem(),a=b",616431,45,";if(f.xtype==\"clientecontainer\"){a.setText(\"Back\").show();a.setUi(\"back\");var c=Ext.getStore(\"Clientes\"),g={CodigoUsuario:e.CodigoUsuario,CodigoSociedad:e.CodigoSociedad,CodigoDispositivo:e.CodigoDispositivo,Criterio:e.idCliente,Token:e.Token};c.getProxy().setUrl(\"http://\"+e.dirIP+\"/iMobile/COK1_CL_Socio/ObtenerSocioiMobile\");c.setParams(g);c.load({callback:function(k,l){var m=f.down(\"clienteform\"),j=Ext.getStore(\"Direcciones\");m.setValues(k[0].data);j.setData(k[0].data.Direcciones);j.clearFilter();j.filter(\"TipoDireccion\",\"B\");e.direccionEntrega=j.getAt(0).data.Calle;j.clearFilter();j.filter(\"TipoDireccion\",\"S\");e.direccionFiscal=j.getAt(0).data.Calle}})}if(f.xtype==\"editarpedidoform\"){f.setValues(e.traeCliente());a.setText(\"Back\").show();a.setUi(\"back\")}if(f.xtype==\"partidacontainer\"){a.setText(\"Agregar\").show();a.setUi(\"normal\")}},traeCliente:function(){var b=this,d=Ext.getStore(\"Clientes\"),c=d.find(\"CodigoSocio\",b.idCliente),a=d.getAt(c).data;return a},muestraDirecciones:function(f,d,g,c){var e=this,b=e.getMain().getActiveItem(),a=Ext.getStore(\"Direcciones\");a.clearFilter();if(c.data.action==\"entrega\"){a.filter(\"TipoDireccion\",\"B\");e.entrega=true}else{a.filter(\"TipoDireccion\",\"S\");e.entrega=false}b",611489,32,"b",616431,46,611571,123,611727,88,"){var b",611827,34,"b",611728,47,611929,46,"e,c,d){e.set(\"color\",b.dameColorAleatorio());console.log(e.get(\"cantidad\"",612017,88,"agregaProductos:function(c){var a,o,e,k,p,l=this,p=Ext.getStore(\"Ordenes\"),g=Ext.getStore(\"Productos\"),b=l.getMain().getActiveItem(),a=c.up(\"agregarproductosform\"),o=a.getValues(),e=o.NombreArticulo,k=o.cantidad,j=o.importe;if(Ext.isEmpty(e)||Ext.isEmpty(k)){l",612512,126,"var n=o.CodigoArticulo,d=p.find(\"CodigoArticulo\",n),f=g.find(\"CodigoArticulo\",n),h=g.getAt(f);h.set(\"cantidad\",k);if(d==-1){p.add(o);console.log(\"La del producto es: \"+h.get(\"cantidad\"))}else{var m=p.getAt(d);m.set(\"cantidad\",k);m.set(\"NombreArticulo\",e);m.set(\"importe\",j);console.log(\"La cantidad de la orden es: \"+m.get(\"cantidad\")+\" y la del producto es: \"+h.get(\"cantidad\"))}b.pop()}},muestraProductos:function(){",613296,123,"Ext.getStore(\"Ordenes\").load()},busca:function(a){},buscaCliente:function(a){",613869,169,"g,c,j,a,h,d){var f=this",614092,38,"if(a.get(\"favorite\")){var b=f",614190,36,"b)}},lista:function(c",614270,33,",b=this;a.clearFilter();a.filter(\"DesplegarEnPanel\",c)",614445,78,"g,d,h,b,e){var f=this,a=f.getMenu(),c=b",614562,32,"b.get(\"CodigoSocio\");f.titulo=f.idCliente+\" \"+c;switch(g.opcion){case\"venta\":a",614616,41,"titulo});break;case\"cobranza\":a.push({xtype:\"cobranzalist\",title:f.titulo});break}",614675,53,"e,c,h,b",616243,42,",g=b.data,f",614815,68,"g);a.getActiveItem().setValues({precioConDescuento:g.Precio-g.descuento,cantidad:1});f=a.getActiveItem().getValues();a.getActiveItem().setValues({importe:f.precioConDescuento*f.cantidad});if(g.cantidad>0){a.getActiveItem().down(\"fieldset\").setTitle(\"Editar producto\");",616430,47,"hide()}},actualizaCantidad:function(f,e",609980,44,",d=a.getActiveItem().getValues();a.getActiveItem().setValues({importe:d.precioConDescuento*e})},guardaDatosDeCliente:function(a){var b=this;b.mandaMensaje(\"C\ufffff\ufffffdigos de direcci\ufffff\ufffffn\",\"Entrega: \"+b.direccionEntrega+\"\\nFiscal: \"+b.direccionFiscal)},onOpcionesCliente:function(l,c,d,b,f){var g=this,h=g.getMenu(),k=b.get(\"action\");switch(k",614980,99,"g.titulo",615102,74,";case\"visualizar\":var j=Ext.getStore(\"Transacciones\");var a={CodigoUsuario:g.CodigoUsuario,CodigoSociedad:g.CodigoSociedad,CodigoDispositivo:g.CodigoDispositivo,Token:g.Token,CardCode:g.idCliente};j.setParams(a);j.load();h.push({xtype:\"transaccionlist\"}",615169,33,"c,b,f,a,d,g){},onEliminarOrden:function(c,d){var b=this,a=Ext.getStore(\"Ordenes\")",615697,147,"a.removeAll();b",615927,33,"d",615961,48,"b",616243,42,",c=b.up(\"navigationorden\"),e=c.getActiveItem().getActiveItem();console.log(e.xtype);if(e.isXType(\"partidacontainer\")){",616120,87,"else{c.getActiveItem().setActiveItem(0)}",616206,35,616243,42,",e=c.getActiveItem().getActiveItem();if(e.isXType(\"clientecontainer\")||e.isXType(\"editarpedidoform\"))",616429,55,"if(e.isXType(\"partidacontainer\")&&b.isXType(\"agregarproductosform\"))",616429,151,"h,c){var b=Ext.getStore(d),g",616613,67,"h,Token:c,Elementos:10};b.setParams(g",616709,78,";a.getMain().getActiveItem().pop();a.onBackMenu()},muestraFacturasPendiente",609570,32,"enu();a.push({xtype:\"facturascontainer\",title:b.titulo})},aplicaPago:function(){var e=this,b=e.getMenu(),c,d=0,a=b.getActiveItem().down(\"facturaslist\").getSelection();for(c=0;c<a.length;c++){d+=a[c].data.saldo}e.aPagar=d;b.push({xtype:\"formasdepagolist\",title:e.titulo})},muestraCobranza:function(e,c,f,b){var d=this,a=d.getMenu(),g=b.get(\"title\");a.push({xtype:\"totalapagarcontainer\",title:d.titulo});Ext.Msg.prompt(g,\"Ingrese el monto a pagar:\",function(k,j){if(k==\"ok\"){var h=Ext.getStore(\"Totales\");h.add({tipo:g,monto:j});d.pagado=0;console.log(d.pagado);h.each(function(l){d.pagado+=parseFloat(l.get(\"monto\"))});d.getTotales().down(\"#pagado\").setItems({xtype:\"container\",html:d.pagado});d.getTotales().down(\"#pendiente\").setItems({xtype:\"container\",html:d.aPagar-d.pagado})}else{}});d.getTotales().down(\"#aCobrar\").setItems({xtype:\"container\",html:d.aPagar});d.getTotales().down(\"#pagado\").setItems({xtype:\"container\",html:d.pagado});d.getTotales().down(\"#pendiente\").setItems({xtype:\"container\",html:d.aPagar-d.pagado})},onSeleccionarTransacc",361000,33,"Menu();a.push({xtype:\"editarpedidoform\"})",606286,32,616819,993,"Telefono\",type:\"string\"},{name:\"Correo\",type:\"string\"},{name:\"ListaPrecios\",type:\"string\"},{name:\"LimiteCredito\",type:\"string\"},{name:\"S",617944,189,"25.15.241.121",618145,44,"i",621243,93,618276,193,"float\",defaultValue:0},{name:\"P",619327,253,"float\"},{name:\"DesplegarEnPanel\",type:\"boolean\",},{name:\"color",588316,41,618847,93,"data:[{CodigoArticulo:\"P0077\",NombreArticulo:\"Producto 1 con nombre muy, muy largo\",DesplegarEnPanel:true,Precio:3.5,descuento:1,importe:22,almacen:22,existencia:1,moneda:\"pesos\",totalDeImpuesto:100},{CodigoArticulo:\"P0069\",NombreArticulo:\"Producto 2\",DesplegarEnPanel:false,Precio:13.5,descuento:4,importe:34,almacen:22,existencia:4,moneda:\"pesos\",totalDeImpuesto:140},{CodigoArticulo:\"P0071\",NombreArticulo:\"Producto 3\",DesplegarEnPanel:true,Precio:13.5,descuento:2,importe:56,almacen:22,existencia:7,moneda:\"pesos\",totalDeImpuesto:12},{CodigoArticulo:\"P0156\",NombreArticulo:\"Product 4\",DesplegarEnPanel:false,Precio:11.87,descuento:3,importe:67,almacen:22,existencia:8,moneda:\"pesos\",totalDeImpuesto:12},{CodigoArticulo:\"P0141\",NombreArticulo:\"Producto 5\",DesplegarEnPanel:true,Precio:17.7,descuento:5,importe:78,almacen:22,existencia:10,moneda:\"pesos\",totalDeImpuesto:23},{CodigoArticulo:\"P0128\",NombreArticulo:\"Producto 6\",DesplegarEnPanel:true,Precio:16.5,descuento:0.5,importe:78,almacen:22,existencia:10,moneda:\"pesos\",totalDeImpuesto:23}]},",619102,105,617715,35,618377,92,"float\"},{name:\"P",619327,253,"floa",619582,115,620056,321,"string",620380,233,620751,431,"25.15.241.121",621194,49,"i",621243,93,"define(\"Imobile.model.Factura",619136,71,"saldo\",type:\"float\"},{name:\"fecha\",type:\"string\"},{name:\"vencimiento",588316,41,"store.Factura",620799,55,"Factura\",autoLoad:true,data:[{id:\"0001\",fecha:\"23-May-2014\",saldo:10000,vencimiento:\"12-Dic-2014\"},{id:\"0002\",fecha:\"12-Abr-2014\",saldo:20000,vencimiento:\"14-Jun-2014\"},{id:\"0003\",fecha:\"28-Ene-2014\",saldo:30000,vencimiento:\"23-Jul-2014\"},{id:\"0004\",fecha:\"30-Mar-2013\",saldo:40000,vencimiento:\"13-Ago-2014\"},{id:\"0005\",fecha:\"23-Oct-2013\",saldo:50000,vencimiento:\"15-Dic-2014\"",620054,32,"Total",619136,71,"tipo\",type:\"string\"},{name:\"monto\",type:\"double",619583,33,"Tot",620796,58,"Total\",autoLoad:true,}});Ext.define(\"Imobile.model.Transaccio",619135,72,618377,97,"]}});Ext.define(\"Imobile.store.Transa",620542,61,"Transaccion",618924,35,"25.15.241.121:88/iMobile/COK1_CL_Consultas/RegresarOrdenVentaiMobile2",619022,87,621336,137,",\"Facturas\",\"Totales\",\"Transaccione",621471,766]