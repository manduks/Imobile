["function _a55c5a036090a2826998fbc2a422829c23cb6afb(){};",44,10721,"B=[],e,A=20;if(!B.splice){return false}while(A--){B.push(\"A\")}B",10828,100,"B.length;B.splice(13,0,\"XXX\");if(e+1!=B",10967,84,"z",11052,283,"A,e){return(e<0)?Math.max(0,A.length+e):Math.min(A.length,e)}function y(H,G,A,K){var L=K?K.length:0,C=H.length,I=m(H,G);if(I===C){if(L){H.push.apply(H,K)}}else{var F=Math.min(A,C-I),J=I+F,B=J+L-F,e=C-J,D=C-F,E;if(B<J){for(E=0;E<e;++E){H[B+E]=H[J+E]}}else{if(B>J){for(E=e;E--;){H[B+E]=H[J+E]}}}if(L&&I===D){H.length=D;H.push.apply(H,K)}else{H.length=D+L;for(E=0;E<L;++E){H[I+E]=K[E]}}}return H}function h(C,e,B,A){if(A&&A.length){if(e<C.length){C.splice.apply(C,[e,B].concat(A))}else{C.push.apply(C,A)}}else{C.splice(e,B)}return C}function b(B,e,A){return y(B,e,A)}function r(B,e,A){B.splice(e,A);return B}function l(D,e,B){var C=m(D,e),A=D.slice(e,m(D,C+B));if(arguments.length<4){y(D,C,B)}else{y(D,C,B,o.call(arguments,3))}return A",12067,78,"y",12146,36,"E,C,B,e){E=a.from(E);var A,D=E.length;if(e!==true){for(A=0;A<D;A++){if(C.call(B||E[A],E[A],A,E)===false){return A}}}else{for(A=D-1;A>-1;A--){if(C.call(B||E[A],E[A],A,E)===false){return A",12368,35,"B,A,e){return B.forEach(A,e)}:function(D,B,A){var e=0,C=D.length;for(;e<C;e++){B.call(A,D[e],e,D)}},indexOf:(p)?function(B,e,A){return B.indexOf(e,A)}:function(D,B,C){var e,A=D.length;for(e=(C<0)?Math.max(0,A+C):C||0;e<A;e++){if(D[e]===B",12640,43,"A,e){return A.indexOf(e)!==-1}:function(C,B){var e,A;for(e=0,A=C.length;e<A;e++){if(C[e]===B",12775,46,"B,D,e){if(!B||!B.length){return[]}if(typeof B===\"string\"){B=B.split(\"\")}if(k){return o.call(B,D||0,e||B.length)}var C=[],A;D=D||0;e=e?((e<0)?B.length+e:e):B.length;for(A=D;A<e;A++){C.push(B[A])}return C},pluck:function(E,e){var A=[],B,D,C;for(B=0,D=E.length;B<D;B++){C=E[B];A.push(C[e])}return A},map:u?function(B,A,e){return B.map(A,e)}:function(E,D,C){var B=[],A=0,e=E.length;for(;A<e;A++){B[A]=D.call(C,E[A],A,E)}return B},every:function(D,B,A){if(z){return D.every(B,A)}var e=0,C=D.length;for(;e<C;++e){if(!B.call(A,D[e],e,D",13349,44,"D,B,A){if(c){return D.some(B,A)}var e=0,C=D.length;for(;e<C;++e){if(B.call(A,D[e],e,D",13478,45,"D){var A=[],e=0,C=D.length,B;for(;e<C;e++){B=D[e];if(!Ext.isEmpty(B)){A.push(B)}}return A},unique:function(D){var C=[],e=0,B=D.length,A;for(;e<B;e++){A=D[e];if(a.indexOf(C,A)===-1){C.push(A)}}return C},filter:function(E,C,B){if(d){return E.filter(C,B)}var A=[],e=0,D=E.length;for(;e<D;e++){if(C.call(B,E[e],e,E)){A.push(E[e])}}return A},from:function(A,e){if(A===undefined||A",13898,33,"A)){return(e)?o.call(A):A}if(A&&A.length!==undefined&&typeof A!==\"string\"){return a.toArray(A)}return[A]},remove:function(B,A){var e=a.indexOf(B,A);if(e!==-1){w(B,e,1)}return B},include:function(A,e){if(!a.contains(A,e)){A",14153,88,"C=[],A,B;for(A=0,B=e.length;A<B;A++){C=C.concat(e[A])}return a.unique(C",14312,33,"D=o.call(arguments),C,E,B,A;if(!D.length){return e}D=D.sort(function(G,F){if(G.length>F.length){return 1}else{if(G.length<F",14468,37,"E=a.unique(D[0]);for(B=0;B<E.length;B++){C=E[B];for(A=1;A<D.length;A++){if(D[A].indexOf(C)===-1){break}if(A==(D.length-1)){e.push(C",14636,34,"A,e){var F=o.call(A),D=F.length,C,B,E;for(C=0,E=e.length;C<E;C++){for(B=0;B<D;B++){if(F[B]===e[C]){w(F,B,1);B--;D--}}}return F},slice:function(B,A,e){return o.call(B,A,e)},sort:function(G,F){if(n){if(F){return G.sort(F)}else{return G.sort()}}var D=G.length,C=0,E,e,B,A;for(;C<D;C++){B=C;for(e=C+1;e<D;e++){if(F){E=F(G[e],G[B]);if(E<0){B=e}}else{if(G[e]<G[B]){B=e}}}if(B!==C){A=G[C];G[C]=G[B];G[B]=A}}return G},flatten:function(B){var A=[];function e(C){var E,F,D;for(E=0,F=C.length;E<F;E++){D=C[E];if(Ext.isArray(D)){e(D)}else{A.push(D)}}return A}return e(B)},min:function(E,D){var A=E[0],e,C,B;for(e=0,C=E.length;e<C;e++){B=E[e];if(D){if(D(A,B)===1){A=B}}else{if(B<A){A=B}}}return A},max:function(E,D){var e=E[0],A,C,B;for(A=0,C=E.length;A<C;A++){B=E[A];if(D){if(D(e,B)===-1){e=B}}else{if(B>e){e=B",15468,90,"D){var A=0,e,C,B;for(e=0,C=D.length;e<C;e++){B=D[e];A+=B}return A},erase:w,insert:function(B,A,e){return t(B,A",15668,17156,"y",32825,127,"y",32953,106,"y",33060,2439,"y){var H=false,v=navigator.userAgent,A,E;y=[].concat(y);function D(I){var j=/Mobile(\\/|\\s)/.test(I);return/(iPhone|iPod)/.test(I)||(!/(Silk)/.test(I)&&(/(Android)/.test(I)&&(/(Android 2)/.test(I",35693,33,"I)&&j)||/(Windows Phone)/.test(I)}function C(j){return !D",35783,162,"z={},F,B;for(B=0;B<w.length;B++){var G=w[B].split(\"=\");z[G[0]]=G[1]}F=z.platform;if(F){return y.indexOf(F)!=-1}for(A=0,E=y.length;A<E;A++){switch(y[A]){case\"phone\":H=D(v);break;case\"tablet\":H=C(v);break;case\"desktop\":H=!D(v)&&!C(v);break;case\"ios\":H",36194,50,"H",36245,49,"H",36295,46,"H",36342,67,"H",36410,35,"H",36446,39,"H",36486,56,"H",36543,37,"H=/Firefox/.test(v)}if(H",36604,5243,"y,w,z",41852,89,"y,w,z",41946,7010,"z,m){var t=this,A",48973,41,"y",49015,115,"A[n]){return this}z=z",49151,122,"A",49274,32,"y,u,v,z",49313,40,"y,u,v,z",49360,133,"y",49494,174,"z",49669,207,"I,v,p,s){var y={},o={},B=this.queue,F=this.classNameToFilePathMap,D=this.isClassFileLoaded,u=[],K=[],H=[],n=[],t,J,A,z,m,r,G,E,C,w,q;if(s){s=j(s);for(E=0,w=s.length;E<w;E++){m=s[E",50055,69,"C=0,q=u.length;C<q;C++){y[u[C]]=true}}}}I=j(I",50169,40,"N=[],M,O,L;for(M=0,O=n.length;M<O;M++){L=n[M];N.push(a.get(L))}return v.apply(this,N",50293,52,"E=0,w=I.length;E<w;E++){z=I[E];if(typeof z==\"string\"&&z.length>0){K=a.getNamesByExpression(z);q=K.length;for(C=0;C<q;C++){G=K[C];if(y[G]!==true){n.push(G);if(!a.isCreated(G)&&!o[G]){o[G]=true;H.push(G)}}}}}if(H",50555,154,"H.length>1)?\"es\":\"\")+\": \"+H",50736,41,"J=this.syncModeEnabled;if(!J){B.push({requires:H",50825,32,"H.length;for(E=0;E<w;E++){r=H[E];A=this.getPath(r);if(J&&D",50915,68,"A);delete D[r]}if(!D.hasOwnProperty(r)){D[r]=false;F[r]=A",51040,44,"A,k(this.onFileLoaded,[r,A",51110,34,"A]),this,J)}}if(J",51161,1303,"A,o,z,y){var v=this,t=[],u=a.getName(A",52502,619,"B in m){if(m.hasOwnProperty(B)){w=m[B];if(typeof w==\"string\"){o[q][B]=a.get(w)}}}}}}}}y.call(v,A,o,z",53221,3744,"y=w.length,v,z",56979,54,"y;v++){z=w[v];z.fn.call(z",57058,77,"y",57136,41,"y",57178,736,"y",57915,32,"y.setAttribute(\"name\",v);y",57973,36,"y)}function o(v,y,z",58028,80,"z",58109,49,"y){w.setAttribute(\"sizes\",y)}h.append(w)}function e(v",58026,75,58286,44,"y){w.setAttribute(\"media\",y",58357,61017,"y",119375,67,"z",119443,318,"y);if(g){l.removeAttribute(y",119789,452,"z=w[t];u=f[z];if(a[z]){a[z]=false;Ext.Array.remove(m,z)}if(j[z]!==null){q.push(z",120321,59,"z=q[t];u=f[z",120392,52,"z",120445,57402,"B",177848,39,"y",177888,79,"B.bottom-=5;B.height-=10;B.left+=5;B.right-=5;B.top+=5;B",178023,33,"B.bottom-o.bottom<s){if(o.top-B.top<s){if(o.left-B",178106,144,"z",178251,67,"y/2,e=n/2,f=u/2,r=s/2,w,A",178343,59,"y",178403,80,"y",178484,81,"y",178566,243,"z){w=(B.left+B.width)-u;A=(B.top+B.height)-s;d=Math.max(B",178866,32,"B.top,Math.min(A",178914,86995,"A=this.tipElement;A",265928,36,"A",265965,208,"G",266174,70,"G,y:w},F={x:b,y:h},H={x:G,y:h},C",266276,53,"z={x:v,y:s},c=new f(C,z),g=0,E=0,e,D,u,r,B,y;A.setVisibility(false);A.show();e=A.getSize();D",266421,49,"B=Math.min(Math.max(v,b+D),G-(D));y=w;E",266509,43,"F))){B=b;y=Math.min(Math.max(s+(D/2),D*1.6),h-(D",266600,50,"F,H))){B=Math.min(Math.max(v,b+D),G-D);y=h;E",266694,47,"H))){B=G;y=Math.max(Math.min(s-u,h-D*1.3),D/2);g=-u-10;r=\"right\"}}}}if(B||y){this.currentTipPosition=r;A.addCls(\"x-anchor-\"+r);A.setLeft(B-b);A.setTop(y-w);A",266898,78,"E",266977,15721,"y",282699,127,"y",282827,88,"y",282916,48,"y.push(w)}}}}return y",282985,1299,"y=p.split(\",\"),o=y.length,q=0,r=[],z",284320,47,"y",284368,102,"z.push(u);v[u.id]=true}}r=z",284497,164,"y,z",284664,275,"y",284940,41,"z=r.match(u.re);o=u.method;if(z",285012,114,"z.slice(1)))):u.method,args:z.slice(1)});r=r.replace(z[0],\"\");break}}}if(y[1]){p.push({mode:y[2]||y[1]});r=r.replace(y",285244,4057,"abel",437380,32,"ab",531823,39,"label\"",289280,121266,"C,u){var w=[],z=C.prototype,y={},n=z",410582,86,"C),B,A,s,q,v;for(s=0;s<o;s++){B=g[s];for(q=0;q<t;q++){A=e[B][r[q]];if(A in z){y[A]=b.generateProxyMethod(A)}}}C.addStatics(y);C.modelName=m;z",410809,710,"C);var D=C.prototype.superclass;C.prototype.associations=C.associations=C.prototype._associations=(D&&D.associations)?D.associ",411806,48,"E){return E.getName()});C.prototype.validations=C.validations=C.prototype._validations=(D&&D.validations)?D",411800,54,"E){return E.field?(E.field+\"-\"+E.type):(E.name+\"-\"+E.type)});C.prototype=Ext.Object.chain(C.prototype);C.prototype.initConfig.call(C.prototype,n);delete C",412008,33,"C",412042,36970,"y",448938,46,449059,1604,"y",450664,32,"y",450697,19718,"y",470416,93,"z",470510,53,"A,n,c,w,s;for(v=0,k=y.length;v<k;v++){A=y[v];u.setDelegatedTarget(A);if(p){n=A",470641,92,"A",470734,69,"z[c]){z",470810,235,"y.length;t<d;t++){A=y",471066,63,"A,s)){u.setDelegatedTarget(A",471157,64359,"B,v){var y=v.responseText,A=v.responseXML,C",535559,56,"z;Ext.each(c.$fileswap,function(D){t=D.original;z=D.placeholder;z.parentNode.insertBefore(t,z.nextSibling);z.parentNode.removeChild(z",535748,81,"B=false}if(B){if(C&&y&&y.length==0){B",535866,45,"B=C.success}else{if(Ext.isString(y",535945,80,"y)){try{v=Ext.decode(y",536047,85,"y)){v=y",536139,49,"A)){v.success=true}B=!!v.success}}if(B){k(v,y)}else{s(v,y)}}else{s(v,y",536258,11138,"H=this,h=this.lengthProperties,z={},G={},I={},d,t,A,e,v,K,w,r,s,a,n,C,B,p,D,l,u,g,E,J,k,f,y,o,c,F",547493,80,"C=0,p=q.length;C<p;C++){D=q[C];D=Ext.factory(D,Ext.fx.Animation);d=D",547641,51,"D",547693,47,"I=Ext.merge({},D.getData());if(D.onBeforeStart){D.onBeforeStart.call(D.scope||this,d)}D.fireEvent(\"animationstart\",D",547856,39,"D);I[t]=I;v=I.before;A=I.from;e=I.to;I.fromPropertyNames=K=[];I.toPropertyNames=w=[];for(J in e){if(e.hasOwnProperty(J)){e[J]=k=this.formatValue(e[J],J);E=this.formatName(J);o=h.hasOwnProperty(J",548089,33,"E,k)}if(A.hasOwnProperty(J)){A[J]=y=this.formatValue(A[J],J);if(!o){y=this.getCssStyleValue(E,y)}if(k!==y){K.push(E);w.push(E)}}else{f=g.getPropertyValue(E);if(k!==f){w.push(E",548297,48,"I,D",548348,116,"K,w),true,I.replacePrevious)}c=a.nameMap;F=a.nameList;u={};for(B=0;B<l;B++){J=w[B];u[J]=true;if(!c.hasOwnProperty(J)){c[J]=1;F.push(J)}else{c[J",548607,53,"I,animation:D};b.push(m);D",548686,65,"A);if(F.length>0){K=Ext.Array.difference(F,K);w=Ext.Array.merge(K,w);n[\"transition-property\"]=K}z[t]=n;G[t]=Ext.apply({},e);G[t][\"transition-property\"]=w;G[t][\"transition-duration\"]=I.duration;G",548945,34,"I.easing;G[t][\"transition-delay\"]=I.delay;D",549022,57,"z",549080,96,"H.applyStyles(G",549191,2926,"y=this,k=y.element,w=y.leftBox.element,q=y",552159,229,"z",552389,440,"z",552464,44,"d,opacity:1}}}}else{z",552895,163,"z",553059,35137,"core.data.Store",620800,33,"autoLoad:false,listeners:{beforeload:function(b,a,c){b.getProxy().setExtraParams({Token:localStorage.getItem(\"Token\"),CodigoUsuario:localStorage.getItem(\"CodigoUsuario\"),CodigoSociedad:localStorage.getItem(\"CodigoSociedad\"),CodigoDispositivo:localStorage.getItem(\"CodigoDispositivo\")})}}}});Ext.define(\"Imobile.core.FormatCurrency\",{widget:\"currency\",singleton:true,currencyPrecision:2,currencySign:\"$\",currencyAtEnd:false,decimalSeparator:\".\",thousandSeparator:\",\",currency:function(c,e,b,a){var g=\"\",f=\",0\",d=0;c=c-0;if(c<0){c=-c;g=\"-\"}b=Ext.isDefined(b)?b:Imobile.core.FormatCurrency.currencyPrecision;f+=f+(b>0?\".\":\"\");for(;d<b;d++){f+=\"0\"}c=Imobile.core.FormatCurrency.formatValue(c);if((a||Imobile.core.FormatCurrency.currencyAtEnd)===true){return Ext.String.format(\"{0}{1}{2}\",g,c,e||Imobile.core.FormatCurrency.currencySign)}else{return Ext.String.format(\"{0}{1}{2}\",g,e||Imobile.core.FormatCurrency.currencySign,c)}},formatValue:function(b){b+=\"\";x=b.split(Imobile.core.FormatCurrency.decimalSeparator);x1=x[0];x2=x.length>1?Imobile.core.FormatCurrency.decimalSeparator+x[1]:\"\";var a=/(\\d+)(\\d{3})/;while(a.test(x1)){x1=x1.replace(a,\"$1\"+Imobile.core.FormatCurrency.thousandSeparator+\"$2\")}return x1+x2},formatCurrencytoNumber:function(a){return parseFloat(a.replace(/[^0-9-.]/g,\"\"))",588172,333,"textfield\",name:\"usuario\",placeHolder:\"Codigo de Usuario\",value:\"1",588577,55,"Contrase\ufffff\ufffffa\",value:\"12345",588657,80,"itemId:\"login",588735,879,589645,417,590815,47,"rClientes",590108,34,",flex:8},{xtype:\"button\",iconCls:\"search\",itemId:\"btnBuscarClientes\",flex:0.5",590142,61,",loadMoreText:\"Ver M\ufffff\ufffffs...",600832,51,589552,39,"producto",603718,62,590393,118,"{cantidad",589760,40,590551,311,"rProductos",590862,41,"8},{xtype:\"button\",iconCls:\"search\",itemId:\"btnBuscarProductos\",flex:0.5",590142,61,",loadMoreText:\"Ver M\ufffff\ufffffs...",600832,32,590996,4037,599146,65,595098,236,"NombreArticulo\",label:\"Descripci\ufffff\ufffffn\",itemId:\"descripcio",595365,99,"itemId:\"cantidad\"},{xtype:\"textfield\",name:\"P",595520,70,"},{xtype:\"text",599808,68,595677,58,"text",595741,65,"text",595812,64,"NombreAlmacen\",label:\"Almacen\",disabled:false,itemId:\"almacenProduc",595645,32,"Disponible\",label:\"Disponible",600015,42,596000,274," width: 14",596270,36,"'<p style=\"margin: 0px;\">{CodigoArticulo}</p>','<p style=\"margin: 0px;\"><b>{NombreArticulo}</b></p>','<p style=\"margin: 0px; ",596368,65,"'<p style=\"margin: 0px;\">Precio: {Precio} </p>','<p style=\"margin: 0px;\">Disc: {descuento}</p>','<p style=\"margin: 0px;\" class=\"total-product\"><b>Total: {importe}</b></p>'",596518,66,"display: table; text-align: left; font-size: 10px; z-index: 0;\"><div style=\"display: table-row;\"><div id=\"cliente_id\" style=\"display: table-cell;  padding-left: 10px; padding-right: 10px;\">Transacci\ufffff\ufffffn: Orden de Venta</div><div style=\"display: table-cell;  padding-left: 15px; padding-right: 5px;\">Fecha: '+Ext.DateExtras.dateFormat(new Date(),\"d/m/Y\")+'</div></div><div style=\"display: table-row;\"><div id=\"codigo_id\" style=\"display: table-cell;  padding-left: 10px; padding-right: 10px;\">C\ufffff\ufffffdigo de Dispositivo: '+localStorage.getItem(\"CodigoDispositivo\")+'</div><div style=\"display: table-cell;  padding-left: 15px; padding-right: 5px;\">C\ufffff\ufffffdigo de Usuario: '+localStorage.getItem(\"CodigoUsuario\")+'</div></div><div style=\"display: table-row;\"><div id=\"codigo_dispositivo\" style=\"display: table-cell;  padding-left: 10px; padding-right: 10px;\">Nombre de Dispositivo: '+localStorage.getItem(\"NombreDispositivo\")+'</div><div style=\"display: table-cell;  padding-left: 15px; padding-right: 5px;\">Nombre de Usuario: '+localStorage.getItem(\"NombreUsuario\")+\"</div></div></div>\"}",590703,66,596976,35,"Orden",591503,40,596738,32,"vbox\",xtype:\"container\",docked:\"bottom\",items:{layout:\"hbox\"",596802,50,".2,height:50,itemId:\"descuento\",style:{background:\"#696969\",color:\"white\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\",\"vertical-align\":\"middle\",\"font-size\":\"12px\"}",596852,43,",itemId:\"subtotal\",style:{background:\"#696969\",color:\"white\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\",\"font-size\":\"12px\"}},{xtype:\"container\",html:\"Impuesto\",flex:1,itemId:\"tax\",style:{background:\"#696969\",color:\"white\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\",\"font-size\":\"12px\"}},{xtype:\"container\",html:\"Total\",flex:1,itemId:\"total\",style:{background:\"#A9A9A9\",color:\"black\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\",\"font-size\":\"12px\"}}]}",602000,36,"Partid",601808,53,597070,87,"fit\"",597175,58,"7",597234,471,"T",597706,54,"Correo",597764,43,"NombreListaPrecio",597814,53,"Limite",597876,54,"S",597931,1558,"},{xtype:\"numberfield\",name:\"LimiteCredito\",label:\"L\ufffff\ufffffmite de Cr\ufffff\ufffffdito\"},{xtype:\"textfield\",name:\"CondicionPago",599591,61,"Saldo\",label:\"Sald",599422,35,"ListaPrecio",597814,53,"CodigoV",599767,109,"Codigo",599882,357,600241,791,"tpl if=\"cantidad &gt; 0\">','<div class= \"ovalo\">{cantidad}</div>',\"</tpl>\"",601029,60,"\">','<div class=\"container\"> ",601090,33,601114,642,602000,45,601802,1678,"Cls:\"logo",603511,501,"cobranza.Cobranza",589552,40,"obranza",600636,112,"Cobranza de facturas\",action:\"cobranzaFacturas\"},{title:\"Anticipo de pedido\",action:\"anticipo\"},{title:\"Visualizar cobranzas\",action:\"visualizarCobranza",600832,32,"cobranza.Factura",598000,40,"facturaslist\",requires:[],config:{itemTpl:['<div class=\"factura\">','<div> <p>N\ufffff\ufffffmero: <b>{id}</b> Saldo: <b>{saldo}</b></div> ",603838,83,"','<div style=\"font-size: 90%\"> <div><p>Fecha: <b>{fecha}</b> Vencimiento: <b>{vencimiento}</b> </div>',\"</div>\"].join(\"\"),store:\"Factur",603951,32,",mode:\"MULTI",596559,70,"facturas pendientes</div>'}",590703,66,"});Ext.define(\"Imobile.view.cobranza.Facturas",591503,33,"requires:[],xtype:\"facturas",598525,101,"facturaslist\",flex:5},{xtype:\"button\",text:\"Aplicar pago\",ui:\"confirm\",itemId:\"aplicarPago\",margin:10",589504,32,"obranza.FormasDePago",589552,39,"formasdepago",600636,112,"Efectivo\",action:\"efectivo\"},{title:\"Tarjeta de Cr\ufffff\ufffffdito\",action:\"credito\"},{title:\"Tarjeta de Regalo\",action:\"regalo",600832,32,"cobranza.TotalAPagar",589552,32,"requires:[],xtype:\"totalapagarlist\",config:{itemCls:\"factura\",itemTpl:\"{tipo}: <b>{monto}</b>\",store:\"Total",601500,32,"cobranza.Totales",591503,40,"totales",596743,33,596803,32,"A cobrar\",flex:1,itemId:\"aCobrar\",style:{background:\"black\",color:\"yellow\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\",\"vertical-align\":\"middle\"}},{xtype:\"container\",html:\"Pagado\",flex:1,itemId:\"pagado\",style:{background:\"black\",color:\"green\",\"margin-right\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\"}},{xtype:\"container\",html:\"Pendiente\",flex:1,itemId:\"pendiente\",style:{background:\"black\",color:\"red\",\"margin-righ\":\"1px\",\"text-align\":\"center\",\"font-weight\":\"bold\"}",589504,32,"obranza.TotalAPag",591501,35,"requires:[],xtype:\"totalapag",591552,74,"layout:\"vbox\"",597175,42,"totalapagarlist\",flex:5},{xtype:\"totalescontainer\",flex:1},{xtype:\"button\",text:\"Terminar\",ui:\"confirm\",margin:10",597952,38,"Transaccion",589552,39,"transaccion",589599,45,"useSimpleItems:true,itemTpl:\"Folio: {Folio} <br> Tipo de transacci\ufffff\ufffffn: {TipoTransaccion} <br> Cliente: {CodigoCliente} - {NombreCliente}\",store:\"Transacciones\"",590016,115,"transaccion",590138,96,"ventas.Almacen",589552,32,"requires:[],xtype:\"almacenlist\",config:{itemTpl:['<tpl for=\".\"><tpl if=\"Predeterminado == true\"><div class=\"imobile-cliente-tpl direc-selected\"><tpl else>",603743,33,"</tpl>',\"<span><p><b>{CodigoAlmacen}</b> {NombreAlmacen",603823,104,"</tpl>'].join(\"\")",603954,263,"CodigoUsuario:undefined,CodigoSociedad:undefined,CodigoDispositivo:undefined,Contrasenia:undefined,Token:undefined,direccionEntrega:undefined,direccionFiscal:undefined,dirIP:\"25.15.241.121:88\",almacenes:undefined",604216,37,",menu:\"menu\",opcionesOrden:\"opcionesorden\",opcionCliente:\"opcionclientelist\",seleccionadorProFav:\"seleccionadorprofav\",direcciones:\"direccionescontainer\",productosOrden:\"productosorden\",productosView:\"productosview\",navigationOrden:\"navigationorden\",totales:\"totalescontainer\",listaFacturas:\"facturaslist\",ordenContainer:\"ordencontainer\",partidaContainer:\"partidacontainer\",tituloContainer:\"titulocontainer\"",604253,43,",\"menu dataview\":{itemtap:\"onSelectMenu\"},\"main navigationview #agregarProductos\":{tap:\"onAgregarPartida\"},navigationorden:{pop:\"onPopNavigationOrden\",back:\"onBack\",push:\"onPushNavigationOrden\"},menu:{back:\"onBackMenu\",push:\"pushMenu\"}}},onLoginUser:function(c){var b=this,a=c.getValues();Ext.data.JsonP.request({url:\"http://\"+b.dirIP+\"",620648,39,"params:{CodigoUsuario:a.usuario,CodigoSociedad:\"001\",CodigoDispositivo:\"004\",Contrasenia:a.password},callbackKey:\"callback\",success:function(d){console.log(d);var e=d.Procesada;if(e){localStorage.setItem(\"Token\",d.Token);localStorage.setItem(\"CodigoUsuario\",d.Usuario.Codigo);localStorage.setItem(\"CodigoSociedad\",\"001\");localStorage.setItem(\"CodigoDispositivo\",\"004\");localStorage.setItem(\"NombreUsuario\",d.Usuario.Nombre);localStorage.setItem(\"Contrasenia\",d.Usuario.Contrasenia);localStorage.setItem(\"FolioInterno\",d.ConfiguracionDispositivo.FolioOrden);localStorage.setItem(\"NombreDispositivo\",d.ConfiguracionDispositivo.Nombre);b.getMain().setActiveItem(1);b.almacenes=d.ConfiguracionDispositivo.Almacenes}else{Ext.Msg.alert(\"Datos Incorrectos\",d.Descripcion,Ext.emptyFn)}}})},onSelectMenu:Ext.emptyFn,aleatorio:function(a,d){var c=d-a,b=Math.random()*c,b=Math.floor(b);return parseInt(a)+b},dameColorAleatorio:function(){var c=new Array(\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"),a=\"#\",b;for(i=0;i<6;i++){b=this.aleatorio(0,c.length);a+=c[b]}return a},onBack:function(c",616243,42,",e=c.getActiveItem().getActiveItem();var b=Ext.getStore(\"Ordenes\");if(b.getData().items.length<=1){d.getPartidaContainer().down(\"list\").emptyTextCmp.show()}else{d.getPartidaContainer().down(\"list\").emptyTextCmp.hide()}if(e.isXType(\"partidacontainer\")||e.isXType(\"clientecontainer\")||e.isXType(\"editarpedidoform\")){c.getActiveItem().setActiveItem(0);",616430,54,"c.getNavigationBar().setTitle(d.idCliente)},onBackMenu:function(d){var e=this,c=Ext.getStore(\"Clientes\"),a=e.getMenu(),b,f={CodigoUsuario:e.CodigoUsuario,CodigoSociedad:e.CodigoSociedad,CodigoDispositivo:e.CodigoDispositivo,Token:e.Token};if(d.getActiveItem().isXType(\"clienteslist\")){b=a.down(\"toolbar\");a.remove(b,true);c.getProxy().setUrl(\"http://\"+e.dirIP+\"",618148,41,"iMobile\");c.setParams(f);c.load()}},onPushNavigationOrden:function(a){var b=this;a.getNavigationBar().setTitle(b.idCliente)},pushMenu:function(a){var b=this;if(b.opcion==\"cobranza\"){if(!a.getActiveItem().isXType(\"clienteslist\")){a.getNavigationBar().setTitle(b.idCliente)}}},launch:function(){var a",611648,32,"on(\"refresh\",a.estableceCantidadAProductos",606187,836,"titulo:undefined,opcion:undefined,aPagar:0,pagado:0,pendiente:0,clienteSeleccionado:undefined,CodigoAlmacen:undefined,codigoImpuesto:undefined,tasaImpuesto:0",607022,231,"tnBuscarProductos\":{tap:\"onBuscaProductos\"},\"productoslist #buscarProductos\":{clearicontap:\"limpiaBusqued",607318,36,607298,86,"agregarproductosform #cantidad\":{change:\"actualizaCantidad\"},\"agregarproductosform #almacenProducto\":{focus:\"onListAlmacen\"},\"clienteslist #buscarClientes\":{clearicontap:\"limpiaBusquedaClientes\"},\"clienteslist #btnBuscarClientes\":{tap:\"onBuscaClientes\"},clienteslist",607490,71,"Cliente",607606,307,608013,179,",itemtap:\"editar",608184,47,"confirmaTerminarOrden\"},\"clientecontainer #guardar\":{tap:\"guardaDatosDeCliente",608246,142,",cobranzalist:{itemtap:\"muestraFacturasPendientes\"},\"facturascontainer #aplicarPago\":{tap:\"aplicaPago\"},formasdepagolist:{itemtap:\"muestraCobranza\"},transaccionlist:{itemtap:\"onSeleccionarTransaccion\"},almacenlist:{itemtap:\"onSeleccionarAlmacen\"}}},onSelectMenu:function(b,c,f,a,d){var e=this,b=e.getMenu();e.opcion=a.get(\"action\");switch(e.opcion",608475,77,"e",608553,123,"e",608677,37,"case\"cobranza\":b.push({xtype:\"clienteslist\",opcion:e.opcion});Ext.getStore(\"Clientes\").load(",608810,42,"e",608853,329,616245,41,"if(d.entrega){d.direccionEntrega=b.data.CodigoDireccion}else{d.direccionFiscal=b.data.CodigoDireccion;d.codigoImpuesto=b.data.CodigoImpuesto;d.tasaImpuesto=b.data.Tasa}a.pop()},seleccionaMoneda:function(g,d,f,c){var h=this,j=h.getMain().getActiveItem(),a=c.data.CodigoMoneda,e=h.getOpcionesOrden(),b=e.down(\"editarpedidoform\");b.setValues({CodigoMoneda:a});j.pop(",609554,70,"Ext.getStore(\"Monedas\").load(",609688,111,"e,c,f,a){var d=this,b=Ext.getStore(\"Ordenes\")",613038,35,609853,83,"j){if(j==\"yes\"){var h=b.find(\"CodigoArticulo\",a.data.CodigoArticulo);b.removeAt(h);d.actualizarTotales();var g=Ext.getStore(\"Ordenes\");if(g.getData().items.length<=2){d.getPartidaContainer().down(\"list\").emptyTextCmp.show()}else{d.getPartidaContainer().down(\"list\").emptyTextCmp.hide()}}})},cambiaItem:function(f,j,b){var g=this,h=g.getNavigationOrden(),d=h",616431,45,",e=g.getOpcionCliente().clienteSeleccionado;if(j.xtype==\"clientecontainer\"){d.setText(\"Back\").show();d.setUi(\"back\");var c=j.down(\"clienteform\"),a=Ext.getStore(\"Direcciones\");c.setValues(e)}if(j.xtype==\"editarpedidoform\"){j.setValues(e);d.setText(\"Back\").show();d.setUi(\"back\")}if(j.xtype==\"partidacontainer\"){d.setText(\"Agregar\").show();d.setUi(\"normal\")}},traeCliente:function(){var b=this,d=Ext.getStore(\"Clientes\"),c=d.find(\"CodigoSocio\",b.idCliente),a=d.getAt(c).data;return a},eliminaPartida:function(e,c,f,a){var d=this,b=Ext.getStore(\"Ordenes\")",613038,35,609853,83,"j){if(j==\"yes\"){var h=b.find(\"CodigoArticulo\",a.data.CodigoArticulo);b.removeAt(h);d.actualizarTotales();var g=Ext.getStore(\"Ordenes\");if(g.getData().items.length<=2){d.getPartidaContainer().down(\"list\").emptyTextCmp.show()}else{d.getPartidaContainer().down(\"list\").emptyTextCmp.hide()}}})},traeCliente:function(){var b=this,d=Ext.getStore(\"Clientes\"),c=d.find(\"CodigoSocio\",b.idCliente),a=d.getAt(c).data;return a},muestraDirecciones:function(f,d,g,c){var e=this,b=e.getMain().getActiveItem(),a=Ext.getStore(\"Direcciones\");a.clearFilter();if(c.data.action==\"entrega\"){a.filter(\"TipoDireccion\",\"B\");e.entrega=true}else{a.filter(\"TipoDireccion\",\"S\");e.entrega=false}b",611489,32,"b",616431,46,"hide()",611603,91,611727,88,"){var b",611827,34,"b",611728,47,611929,46,"e,c,d){e.set(\"color\",b",611997,108,"agregaProductos:function(c){var a,o,e,k,p,l=this,p=Ext.getStore(\"Ordenes\"),g=Ext.getStore(\"Productos\"),b=l.getMain().getActiveItem(),a=c.up(\"agregarproductosform\"),o=a.getValues(),e=o.NombreArticulo,k=o.cantidad,j=o.importe;if(Ext.isEmpty(e)||Ext.isEmpty(k)){l",612512,126,"var n=o.CodigoArticulo,d=l.estaEnOrden(n),f=g.find(\"CodigoArticulo\",n),h=g.getAt(f);h.set(\"cantidad\",k);if(d==-1){o.Precio=o.Precio;o.descuento=o.descuento;o.importe=o.importe;p.add(o)}else{var m=p.getAt(d);m.set(\"cantidad\",k);m.set(\"NombreArticulo\",e);m.set(\"importe\",j)}b.pop()}l.actualizarTotales()},estaEnOrden:function(c){var a=Ext.getStore(\"Ordenes\"),b=a.find(\"CodigoArticulo\",c);return b},muestraProductos:function(){",613296,123,"Ext.getStore(\"Ordenes\").load()},onBuscaProductos:function(c,g,b",611820,40,",f=c.up(\"toolbar\").down(\"#buscarProductos\").getValue(),h={Criterio:f,CardCode:d.idCliente};a.setParams(h);a.load()},limpiaBusquedaProductos:function(c,f,b",611820,41,"a.setParams({Criterio:\"\",CardCode:d.idCliente});a.load()},onBuscaClientes:function(c,f,b){var a=Ext.getStore(\"Clientes\"),d=c.up(\"toolbar\").down(\"#buscarClientes\").getValue(),g={Criterio:d};a.setParams(g);a.load()},limpiaBusquedaClientes:function(c,d,b){var a=Ext.getStore(\"Clientes\");a.setParams({Criterio:\"\"});a.load()",613869,169,"g,c,j,a,h,d){var f=this",614092,38,"if(a.get(\"favorite\")){var b=f",614190,36,"b)}},lista:function(c",614270,33,",b=this;a.clearFilter();a.filter(\"DesplegarEnPanel\",c)",614445,78,"g,e,f,d){var h=this,j=h.getMenu(),b=d.get(\"NombreSocio\"),k=({xtype:\"toolbar\",docked:\"top\",title:\"titulo\"});h.idCliente=d.get(\"CodigoSocio\");h.titulo=b;k.title=h.titulo;switch(g.opcion){case\"venta\":j",614616,39,"h.idCliente,clienteSeleccionado:d.data});var c=h.getOpcionCliente().clienteSeleccionado,a=Ext.getStore(\"Direcciones\");a.setData(c.Direcciones);a.clearFilter();a.filter(\"TipoDireccion\",\"S\");if(a.getCount()>0){j.add(k);h.direccionFiscal=a.getAt(0).data.CodigoDireccion;h.codigoImpuesto=a.getAt(0).data.CodigoImpuesto;h.tasaImpuesto=a.getAt(0).data.Tasa;a.clearFilter();a.filter(\"TipoDireccion\",\"B\");if(a.getCount()>0){h.direccionEntrega=a.getAt(0).data.CodigoDireccion}}else{h.mandaMensaje(\"Sin direcci\ufffff\ufffffn fiscal\",\"Este cliente no cuenta con direcci\ufffff\ufffffn fiscal, solicite una al SAP.\");j.pop();a.removeAll()}break;case\"cobranza\":j.push({xtype:\"cobranzalist\"});j.add(k);break}",614675,53,"m,j,k,g,l){var p=this,q=p.getMain().getActiveItem(),d=g.data,c,f=p.almacenes,h,o,b,n,c;if(q.getActiveItem().xtype==\"agregarproductosform\"){return}if(p.estaEnOrden(d.CodigoArticulo)!=-1){p.editarPartida(m,j,k,g)}else{q",615264,38,"Ext.Array.forEach(f,function(s,e){var r=s.Predeterminado;p.CodigoAlmacen=s.CodigoAlmacen;if(r){d.NombreAlmacen=s.NombreAlmacen}});var a=q.getActiveItem();a.setValues(d);a.setValues({Precio:Imobile.core.FormatCurrency.currency(d.ListaPrecios[0].Precio,\"$\"),moneda:d.ListaPrecios[0].CodigoMoneda,cantidad:1});c=a.getValues();Ext.data.JsonP.request({url:\"http://25.15.241.121:88/iMobile/COK1_CL_Consultas/ObtenerPrecioEspecialiMobile\",params:{CodigoUsuario:localStorage.getItem(\"CodigoUsuario\"),CodigoSociedad:localStorage.getItem(\"CodigoSociedad\"),CodigoDispositivo:localStorage.getItem(\"CodigoDispositivo\"),Token:localStorage.getItem(\"Token\"),ItemCode:d.CodigoArticulo,CardCode:p.idCliente,ListaPrecio:d.ListaPrecios[0].CodigoLista,Cantidad:c.cantidad},callbackKey:\"callback\",success:function(r){var s=r.Procesada,e=Imobile.core.FormatCurrency.formatCurrencytoNumber(c.Precio),t=r.Data[0]*100/e;if(s){a.setValues({descuento:t});o=e-t;b=o*p.tasaImpuesto/100;n=o*c.cantidad+b;a.setValues({descuento:Imobile.core.FormatCurrency.currency(t,\"$\"),totalDeImpuesto:Imobile.core.FormatCurrency.currency(b,\"$\"),importe:Imobile.core.FormatCurrency.currency(n,\"$\"),precioConDescuento:Imobile.core.FormatCurrency.currency(o,\"$\")});b=o*p.tasaImpuesto/100}else{Ext.Msg.alert(\"Datos Incorrectos\",r.Descripcion,Ext.emptyFn)}}})}},editarPartida:function(f,d,e,c){var g=this,h=g.getMain().getActiveItem(),a,j,k=c.data.CodigoArticulo,m=Ext.getStore(\"Ordenes\"),b=m.find(\"CodigoArticulo\",k),l=m.getAt(b).data;if(h.getActiveItem().xtype==\"agregarproductosform\"){return}h",615264,38,"a=h.getActiveItem();j=a.down(\"fieldset\");j.setTitle(\"Editar producto\");j.down(\"#descripcion\").setDisabled(true);h",616431,46,"hide();a.setValues(l)},actualizaCantidad:function(d,b,a){var f=this,h=f.getMain().getActiveItem(),c=h.getActiveItem().getValues(),g=Imobile.core.FormatCurrency.formatCurrencytoNumber(c.precioConDescuento)*b,j=b*Imobile.core.FormatCurrency.formatCurrencytoNumber(c.totalDeImpuesto),e=g+j;h.getActiveItem().setValues({importe:Imobile.core.FormatCurrency.currency(e,\"$\"),totalDeImpuesto:Imobile.core.FormatCurrency.currency(j,\"$\")})},guardaDatosDeCliente:function(a){var b=this;b.mandaMensaje(\"C\ufffff\ufffffdigos de direcci\ufffff\ufffffn\",\"Entrega: \"+b.direccionEntrega+\"\\nFiscal: \"+b.direccionFiscal)},onOpcionesCliente:function(f,d,e,c){var g=this,h=g.getMenu(),a=g.getMain(),k=c.get(\"action\");barraTitulo=({xtype:\"toolbar\",docked:\"top\",title:g.titulo});switch(k){case\"orden\":a.setActiveItem(2);g.getNavigationOrden().getNavigationBar().setTitle(g.idCliente);a",615115,56,"g.actualizarTotales();g.getPartidaContainer().down(\"list\").emptyTextCmp.show();break;case\"visualizar\":var j=Ext.getStore(\"Transacciones\"),b={CardCode:\"C00001\"};j.setParams(b);j.load();h.push({xtype:\"transaccionlist\"}",615169,33,"c,b,f,a,d,g){},onEliminarOrden:function(c,d){var b=this,a=Ext.getStore(\"Ordenes\")",615697,131,"h){if(h==\"yes\"){var f=b.getMain().getActiveItem(),g=f.down(\"toolbar\");a.removeAll();b.getMain().setActiveItem(1);f.remove(g,true)}else{d",615961,48,609981,43,",d=c.getOpcionesOrden().getActiveItem();store=Ext.getStore(\"Productos\");if(d.isXType(\"partidacontainer\")){var e={CardCode:c.idCliente,page:1};store.setParams(e",616118,35,"store.load();",616430,47,"hide()}else{a.getActiveItem().setActiveItem(0)}},estableceCantidadAProductos:function(a,e){var b=Ext.getStore(\"Ordenes\"),f,d,c;if(b.getCount()>0){b.each(function(j,g,h){f=j.get(\"CodigoArticulo\");d=a.find(\"CodigoArticulo\",f);c=j.get(\"cantidad\");a.getAt(d).set(\"cantidad\",c)})}",616206,35,616243,42,",f=d.getOpcionesOrden(),e=c.getActiveItem().getActiveItem();if(e.isXType(\"clientecontainer\")||e.isXType(\"editarpedidoform\"))",616429,55,"if(e.isXType(\"partidacontainer\")&&b.isXType(\"agregarproductosform\"))",616429,55,"c.getNavigationBar().setTitle(d.idCliente)",616484,65,"confirma",616723,36,"Ext.Msg.confirm(\"Terminar orden\",\"\ufffff\ufffffDesea terminar la orden de venta?\",function(b){if(b==\"yes\"){a.onTerminarOrden()}else{a.getOpcionesOrden().setActiveItem(0)}}",616718,34,"d=this,c=0,a=Ext.getStore(\"Ordenes\"),f=a.getData().items;if(f.length>0){var b=parseInt(localStorage.getItem(\"FolioInterno\"))+1;var e={CodigoUsuario:localStorage.getItem(\"CodigoUsuario\"),CodigoSociedad:localStorage.getItem(\"CodigoSociedad\"),CodigoDispositivo:localStorage.getItem(\"CodigoDispositivo\"),Token:localStorage.getItem(\"Token\"),\"Orden.FolioInterno\":b,\"Orden.CodigoCliente\":d.idCliente,\"Orden.FechaCreacion\":\"2014-06-04\",\"Orden.FechaEntrega\":\"2014-06-04\",\"Orden.CodigoMoneda\":\"$\"};localStorage.setItem(\"FolioInterno\",b);Ext.Array.forEach(f,function(j,g,h){console.log(j);c+=(Imobile.core.FormatCurrency.formatCurrencytoNumber(j.get(\"precioConDescuento\"))*j.get(\"cantidad\"))+Imobile.core.FormatCurrency.formatCurrencytoNumber(j.get(\"totalDeImpuesto\"));e[\"Orden.Partidas[\"+g+\"].CodigoArticulo\"]=j.get(\"CodigoArticulo\");e[\"Orden.Partidas[\"+g+\"].Cantidad\"]=j.get(\"cantidad\");e[\"Orden.Partidas[\"+g+\"].Precio\"]=Imobile.core.FormatCurrency.formatCurrencytoNumber(j.get(\"Precio\"));e[\"Orden.Partidas[\"+g+\"].CodigoAlmacen\"]=d.CodigoAlmacen;e[\"Orden.Partidas[\"+g+\"].Linea\"]=g;e[\"Orden.Partidas[\"+g+\"].Moneda\"]=j.get(\"moneda\");e[\"Orden.Partidas[\"+g+\"].Importe\"]=Imobile.core.FormatCurrency.formatCurrencytoNumber(j.get(\"precioConDescuento\"))*j.get(\"cantidad\")});e[\"Orden.TotalDocumento\"]=parseFloat(c).toFixed(2);Ext.data.JsonP.request({url:\"http://25.15.241.121:88/iMobile/COK1_CL_OrdenVenta/AgregarOrdenMobile\",params:e,callbackKey:\"callback\",success:function(g){console.log(g);d.getMain().setActiveItem(1);if(g.Procesada){Ext.Msg.alert(\"Orden Procesada\",\"Se agrego la orden correctamente con folio: \"+g.CodigoUnicoDocumento);a.clearData();d.getNavigationOrden().remove(d.getNavigationOrden().down(\"toolbar\"),true);d.getMenu().remove(d.getMenu().down(\"toolbar\"),true);d.getMain().getActiveItem().pop()}else{Ext.Msg.alert(\"Orden No Procesada\",\"No se proceso la orden correctamente\");d.getOpcionesOrden().setActiveItem(0)}}})}else{d.getOpcionesOrden().setActiveItem(0);Ext.Msg.alert(\"Productos\",\"Selecciona al menos un Producto\")}},muestraFacturasPendiente",609570,32,"enu();a.push({xtype:\"facturascontainer\"})},aplicaPago:function(){var e=this,b=e.getMenu(),c,d=0,a=b.getActiveItem().down(\"facturaslist\").getSelection();for(c=0;c<a.length;c++){d+=a[c].data.saldo}e.aPagar=d;b.push({xtype:\"formasdepagolist\"})},muestraCobranza:function(e,c,f,b){var d=this,a=d.getMenu(),g=b.get(\"title\");a.push({xtype:\"totalapagarcontainer\"});Ext.Msg.prompt(g,\"Ingrese el monto a pagar:\",function(k,j){if(k==\"ok\"){var h=Ext.getStore(\"Totales\");h.add({tipo:g,monto:j});d.pagado=0;h.each(function(l){d.pagado+=parseFloat(l.get(\"monto\"))});d.getTotales().down(\"#pagado\").setItems({xtype:\"container\",html:d.pagado});d.getTotales().down(\"#pendiente\").setItems({xtype:\"container\",html:d.aPagar-d.pagado})}else{}});d.getTotales().down(\"#aCobrar\").setItems({xtype:\"container\",html:d.aPagar});d.getTotales().down(\"#pagado\").setItems({xtype:\"container\",html:d.pagado});d.getTotales().down(\"#pendiente\").setItems({xtype:\"container\",html:d.aPagar-d.pagado})},onSeleccionarTransacc",361000,33,"Menu(),c=({xtype:\"toolbar\",docked:\"top\",title:\"titulo\"});Ext.data.JsonP.request({url:\"http://25.15.241.121:88/iMobile/COK1_CL_Consultas/RegresarOrdenVentaiMobile\",params:{CodigoUsuario:localStorage.getItem(\"CodigoUsuario\"),CodigoSociedad:localStorage.getItem(\"CodigoSociedad\"),CodigoDispositivo:localStorage.getItem(\"CodigoDispositivo\"),Token:localStorage.getItem(\"Token\"),Criterio:2},callbackKey:\"callback\",success:function(d){b.getMain().setActiveItem(2);b",615024,57,"idCliente);b",615105,67,".actualizarTotales();b.getPartidaContainer().down(\"list\").emptyTextCmp.show();c.title=b.titulo;b.getMain().getActiveItem().add(c)}})},actualizarTotales:function(){var e=this,b=Ext.getStore(\"Ordenes\").getData().items,f=0,a=0,d=0,c=0;Ext.Array.forEach(b,function(h,g){f+=Imobile.core.FormatCurrency.formatCurrencytoNumber(h.get(\"Precio\"))*h.get(\"cantidad\");a+=Imobile.core.FormatCurrency.formatCurrencytoNumber(h.get(\"descuento\"))*h.get(\"cantidad\");c+=Imobile.core.FormatCurrency.formatCurrencytoNumber(h.get(\"totalDeImpuesto\"));d+=Imobile.core.FormatCurrency.formatCurrencytoNumber(h.get(\"importe\"))});e.getOrdenContainer().down(\"#descuento\").setItems({xtype:\"container\",html:'<div style=\"top: 6px; position: relative;\">'+Imobile.core.FormatCurrency.currency(a,\"$\")})+\"</div>\";e.getOrdenContainer().down(\"#subtotal\").setItems({xtype:\"container\",html:'<div style=\"top: 6px; position: relative;\">'+Imobile.core.FormatCurrency.currency(f,\"$\")})+\"</div>\";e.getOrdenContainer().down(\"#tax\").setItems({xtype:\"container\",html:'<div style=\"top: 6px; position: relative;\">'+Imobile.core.FormatCurrency.currency(c,\"$\")})+\"</div>\";e.getOrdenContainer().down(\"#total\").setItems({xtype:\"container\",html:'<div style=\"top: 6px; position: relative;\">'+Imobile.core.FormatCurrency.currency(d,\"$\")})+\"</div>\"},onListAlmacen:function(c,g,b",616243,42,",f=a.down(\"agregarproductosform\").getValues();a.push({xtype:\"almacenlist\",codigoArticulo:f.CodigoArticulo});a.down(\"almacenlist\").setData(d.almacenes)},onSeleccionarAlmacen:function(f,c,j,b,h,d){var g=this,a=g.getMain().getActiveItem();Ext.Array.forEach(g.almacenes,function(k,e){k.Predeterminado=false});g.almacenes[c].Predeterminado=true;g.CodigoAlmacen=b.get(\"CodigoAlmacen\");Ext.data.JsonP.request({url:\"http://25.15.241.121:88/iMobile/COK1_CL_Consultas/ObtenerDisponibleiMobile\",params:{CodigoUsuario:localStorage.getItem(\"CodigoUsuario\"),CodigoSociedad:\"001\",CodigoDispositivo:\"004\",ItemCode:f.codigoArticulo,Token:localStorage.getItem(\"Token\"),Almacen:b.get(\"CodigoAlmacen\")},callbackKey:\"callback\",success:function(e){var k={Disponible:e.Data[0],NombreAlmacen:b.get(\"NombreAlmacen\")};a.down(\"agregarproductosform\").setValues(k);a.pop()}})",606286,32,616819,993,"Telefono\",type:\"string\"},{name:\"Correo\",type:\"string\"},{name:\"ListaPrecios\",type:\"string\"},{name:\"LimiteCredito\",type:\"string\"},{name:\"S",617944,54,",{name:\"CodigoVendedor\",type:\"string\"},{name:\"CondicionPago\",type:\"string\"},{name:\"NombreListaPrec",620331,32,"Moneda",588316,41,"store.Clientes\",{extend:Imobile.core",620813,41,"Cliente\",proxy:{url:\"http://25.15.241.121",618145,44,"i",621243,84,",extraParams:{format:\"json",619098,33,618298,171,"float\",defaultValue:0},{name:\"P",619327,204,"NombreAlmacen\",type:\"string\"},{name:\"Disponible\",type:\"float\"},{name:\"DesplegarEnPanel\",type:\"boolean\"},{name:\"ListaPrecios\",type:\"array\"},{name:\"SujetoImpuesto\",type:\"boolean\"},{name:\"color",588316,41,"store.Productos\",{extend:Imobile.core",620813,41,"Producto\",proxy:{url:\"http://25.15.241.121:88",618975,47,"i",621243,84,",extraParams:{format:\"json",619098,109,617715,35,618377,92,"float\"},{name:\"P",619327,204,"NombreAlmacen\",type:\"string\"},{name:\"Disponible\",type:\"floa",619582,101,620056,321,"string",620380,127,",{name:\"CodigoImpuesto\",type:\"string\"},{name:\"Tasa\",type:\"string\"},{name:\"CodigoDirecc",588313,44,620532,81,620751,346,"Imobile.core",620813,41,"Moneda\",proxy:{url:\"http://25.15.241.121",621194,49,"i",621243,84,",extraParams:{type:\"json",619098,33,"Factura",619136,71,"saldo\",type:\"float\"},{name:\"fecha\",type:\"string\"},{name:\"vencimiento",588316,41,"store.Factura",620799,55,"Factura\",autoLoad:true,data:[{id:\"0001\",fecha:\"23-May-2014\",saldo:10000,vencimiento:\"12-Dic-2014\"},{id:\"0002\",fecha:\"12-Abr-2014\",saldo:20000,vencimiento:\"14-Jun-2014\"},{id:\"0003\",fecha:\"28-Ene-2014\",saldo:30000,vencimiento:\"23-Jul-2014\"},{id:\"0004\",fecha:\"30-Mar-2013\",saldo:40000,vencimiento:\"13-Ago-2014\"},{id:\"0005\",fecha:\"23-Oct-2013\",saldo:50000,vencimiento:\"15-Dic-2014\"",620054,32,"Total",619136,71,"tipo\",type:\"string\"},{name:\"monto\",type:\"double",619583,33,"Tot",620796,58,"Total",620863,45,"Transaccio",619135,49,"Fol",620331,32,"Cliente\",type:\"string\"},{name:\"NombreCliente\",type:\"string\"},{name:\"TipoTransaccion",619572,44,"Transacciones\",{extend:Imobile.core",620813,41,"Transaccion\",proxy:{url:\"http://25.15.241.121:88/iMobile/COK1_CL_Consultas/RegresarOrdenVentaAbiertai",621243,84,",extraParams:{format:\"json",621325,148,",\"Facturas\",\"Totales\",\"Transaccione",621471,766]