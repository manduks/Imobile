["function _193e442241f87317925e2b2746487b09fe1f74c9",50,588261,"core.data.Store",628048,33,"autoLoad:false,listeners:{beforeload:function(b,a,c){b.getProxy().setExtraParams({Token:localStorage.getItem(\"Token\"),CodigoUsuario:",609250,37,",CodigoSociedad:",609305,38,",CodigoDispositivo:",609364,41,"})}}",588287,8562,"float: left;\"><div id=\"cliente_id\" style=\"margin-left: 34px;\"></div><div id=\"codigo_id\"></div>",605274,102,597017,84,"vbox\",xtype:\"container\",docked:\"bottom\",items",606290,48,"Descuento\",flex:1.2,height:50,itemId:\"descuento\",style:{background:\"#696969\",color:\"white",606411,119,"Subtotal\",flex:1,itemId:\"subtotal\",style:{background:\"#696969\",color:\"white",606411,65,"}",597226,38,",itemId:\"tax\",style:{background:\"#696969\",color:\"white",606411,65,"}},{xtype:\"container\",html:\"Total\",flex:1,itemId:\"total\",style:{background:\"#A9A9A9\",color:\"black",606411,65,"}}]",601712,37,597342,146,"fit",607028,43,"ordenlist\",flex:7",597565,700,"S",598266,1587,"LimiteCredito",599859,126,"S",599986,46,598140,65,600092,1264,"tpl if=\"cantidad &gt; 0\">','<div class= \"ovalo\">{cantidad}</div>',\"</tpl>\"",601382,136,601519,5846,"F",607366,34,"TipoTransaccion} <br> Cliente: {CodigoCliente} - {NombreC",607429,991,",ordenContainer:\"ordencontainer\",partidaContainer:\"partidacontainer",608419,518,"console.log(d);",608937,296,609493,466,"c.getPartidaContainer().down(\"list\").emptyTextCmp.show",609956,1380,"partida:undefined",611335,395,"change",611735,1540,613367,47,"Ext.getStore(\"Clientes\").load(",613412,1390,";d.actualizarTotales(",614801,166,"Back\").show();a.setUi(\"back\"",614981,664,"Back\").show();a.setUi(\"back\"",615659,61,";a.setUi(\"normal\"",615719,581,616333,131,616335,46,616530,90,";console.log(e.get(\"cantidad\"",616618,88,616793,34,"o,e,k,p,l=this,p=Ext.getStore(\"Ordenes\"),g=Ext.getStore(\"Productos\"),b=l",616871,58,"o=a.getValues(),e=o.NombreArticulo,k=o.cantidad,j=o",616980,40,"k)){l",617025,130,"n=o.CodigoArticulo,d=p.find(\"CodigoArticulo\",n),f=g.find(\"CodigoArticulo\",n),h=g.getAt(f);h.set(\"cantidad\",k);if(d==-1){p.add(o);console.log(\"La del producto es: \"+h.get(\"cantidad\"))}else{var m=p.getAt(d);m.set(\"cantidad\",k);m.set(\"NombreArticulo\",e);m.set(\"importe\",j)}b.pop()}l.actualizarTotales()",617371,1236,"cantidad:1",618607,93,"f.cantidad});if(g.cantidad>0",618738,148,"f,e,",609879,46,618612,67,"d.precioConDescuento*",619027,180,"n,f,g,d,h){var j=this,k=j.getMenu(),m=d.get(\"action\");switch(m){case\"orden\":j.getMain().setActiveItem(2);j",619313,55,"j.titulo);j",619379,66,"j.actualizarTotales();j.getPartidaContainer().down(\"list\").emptyTextCmp.show();var c=j.getPartidaContainer().down(\"list\").getItems().getAt(1).getInnerHtmlElement().down(\"#cliente_id\"),a=j.getPartidaContainer().down(\"list\").getItems().getAt(1).getInnerHtmlElement().down(\"#codigo_id\");console.log(c);c.setText(\"Transacci\ufffff\ufffffn: Orden de Venta\");a.setText(\"Codigo de Dispositivo: \"+j.CodigoUsuario);a.setText(\"Nombre de Dispositivo:: \"+j.CodigoUsuario);break;case\"visualizar\":var l",619473,35,"b={CodigoUsuario:j.CodigoUsuario,CodigoSociedad:j",610255,34,"j.CodigoDispositivo,Token:j.Token,CardCode:\"C00001\"};l.setParams(b);l.load();k",619672,1003,620281,32,"&&b.isXType(\"agregarproductosform\")){",614478,47,620668,103,"g,c){var b=Ext.getStore(d);params",620799,67,"g",620867,35,"params",620903,43,"c=this,b=0,a=Ext.getStore(\"Ordenes\"),e=a.getData().items,d={CodigoUsuario:",609250,37,",CodigoSociedad:",609305,38,",CodigoDispositivo:",609364,41,",Token:localStorage.getItem(\"Token\"),\"Orden.FolioInterno\":100,\"Orden.CodigoCliente\":\"C00001\",\"Orden.FechaCreacion\":\"2014-06-04\",\"Orden.FechaEntrega\":\"2014-06-04\",\"Orden.CodigoMoneda\":\"$\"};Ext.Array.forEach(e,function(h,f,g){b+=h.get(\"precioConDescuento\");d[\"Orden.Partidas[\"+f+\"].CodigoArticulo\"]=h.get(\"CodigoArticulo\");d[\"Orden.Partidas[\"+f+\"].Cantidad\"]=h.get(\"cantidad\");d[\"Orden.Partidas[\"+f+\"].Precio\"]=h.get(\"Precio\");d[\"Orden.Partidas[\"+f+\"].CodigoAlmacen\"]=\"01\";d[\"Orden.Partidas[\"+f+\"].Linea\"]=f;d[\"Orden.Partidas[\"+f+\"].Moneda\"]=h.get(\"moneda\");d[\"Orden.Partidas[\"+f+\"].Importe\"]=h.get(\"importe\")});d[\"Orden.TotalDocumento\"]=parseFloat(b).toFixed(2);console.log(d",608705,38,628476,33,"OrdenVenta/AgregarOrdenMobile\",params:d",608893,41,"f){console.log(f);c.getMain().setActiveItem(1);a.clearData();if(f.Procesada){Ext.Msg.alert(\"Orden Procesada\",\"Se proceso la orden correctamente\")}else{Ext.Msg.alert(\"Orden No Procesada\",\"No se proceso la orden correctamente\")}}}",621029,1148,608707,36,628476,68,"\",params:{CodigoUsuario:",609250,37,",CodigoSociedad:",609305,38,",CodigoDispositivo:",609364,41,",Token:localStorage.getItem(\"Token\"),Criterio:2",608892,42,"c){b.getMain().setActiveItem(2);b",619313,55,"b.titulo);b",619379,67,".actualizarTotales();b.getPartidaContainer().down(\"list\").emptyTextCmp.show();var d=b.getPartidaContainer().down(\"list\").getItems().getAt(1).getInnerHtmlElement().down(\"#cliente_id\"),e=b.getPartidaContainer().down(\"list\").getItems().getAt(1).getInnerHtmlElement().down(\"#codigo_id\");console.log(d);d.setText(\"Transacci\ufffff\ufffffn: Orden de Venta\");e.setText(\"Codigo de Dispositivo: \"+b.CodigoUsuario);e.setText(\"Nombre de Dispositivo:: \"+b.CodigoUsuario)}})},actualizarTotales:function(",614564,38,".getData().items,e=0,a=0,c=0;Ext.Array.forEach(b,function(g,f){e+=g.get(\"Precio\");a+=g.get(\"descuento\");c+=g.get(\"precioConDescuento\")});d.getOrdenContainer().down(\"#descuent",621980,37,"a});d.getOrdenContainer().down(\"#subtotal",621981,36,"parseFloat(e).toFixed(2)});d.getOrdenContainer().down(\"#total",621981,36,"parseFloat(c).toFixed(2)})",610535,32,"Phone",610573,40,622288,1083,"S",623372,103,"Imobile.core",624318,41,"Cliente\"",627023,53,610380,32,623626,77,",extraParams:{format:\"json",623701,204,"float\",defaultValue:0",625670,270,624194,40,624235,171,"A010",624411,144,"$",624560,42,"3",624605,120,"$",624730,42,"2",624775,119,"$",625068,42,624941,122,"$",625068,164,"$",625237,166,"$\",totalDeImpuesto:23",627853,32,"Orden",623742,77,625543,2579,628123,89,"Fol",625546,32,"Cliente\",type:\"string\"},{name:\"NombreCliente\",type:\"string\"},{name:\"TipoTransaccion",628319,124,627024,53,"onsultas/RegresarOrdenVentaAbierta",623618,94,628632,938]